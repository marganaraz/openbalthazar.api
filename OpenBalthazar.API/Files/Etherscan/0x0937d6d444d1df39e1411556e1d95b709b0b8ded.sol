[{"SourceCode":"pragma solidity ^0.5.12;\r\n\r\ncontract RunDice {\r\n    address public owner;\r\n    address private nextOwner;\r\n    address private RunDiceToken; \r\n    \r\n    modifier onlyBy(address user) {\r\n        require(msg.sender == user, \u0022Caller have no access to this method.\u0022);\r\n        _;\r\n    }\r\n    \r\n    event Payment(\r\n        address indexed user,\r\n        uint amount\r\n        );\r\n    event PaymentFailed(\r\n        address indexed user,\r\n        uint amount\r\n        );\r\n    event Rolled(\r\n        int16 number,\r\n        uint amount,\r\n        address indexed user\r\n        );\r\n    \r\n    event Deposited(\r\n        address indexed user,\r\n        uint amount\r\n        );\r\n    event Withdrew(\r\n        address indexed user,\r\n        uint amount\r\n        );\r\n    event WithdrewFailed(\r\n        address indexed user,\r\n        uint amount\r\n        );\r\n    event TokensSent(\r\n        uint amount\r\n        );\r\n    event TokensSendFailed(\r\n        uint amount\r\n        );\r\n    event NotEnough(uint amount);\r\n    \r\n    constructor() public {\r\n        owner = msg.sender;\r\n    }\r\n    \r\n    function Random(uint min, uint max) view private returns (uint) {\r\n        bytes32 hash = keccak256(abi.encodePacked(min, max, blockhash(block.number)));\r\n        return min \u002B ((uint(hash) \u002B block.difficulty) % (max - min \u002B 1));\r\n    }\r\n    \r\n    function ChangeOwner(address newOwner) onlyBy(owner) public {\r\n        nextOwner = newOwner;\r\n    }\r\n    \r\n    function AcceptOwner() onlyBy(nextOwner) public {\r\n        owner = nextOwner;\r\n    }\r\n    \r\n    function Roll(int16 min, int16 max) payable public {\r\n        require (min \u003E= 0 \u0026\u0026 max \u003C= 9999 \u0026\u0026 min \u003C= max, \u0022Min and Max parameters set wrong.\u0022);\r\n        require (msg.value \u003E= 100000000000000, \u0022Bet amount set wrong.\u0022);\r\n        \r\n        uint amount = msg.value;\r\n        int16 number = int16(Random(0, 9999));\r\n        \r\n        if(number \u003E= min \u0026\u0026 number \u003C= max) {\r\n            address payable to = msg.sender;\r\n            uint multiply = uint(100000000 / uint((max - min \u002B 1)));\r\n            uint value = amount * multiply / 10000000 * 975;\r\n            \r\n            emit Rolled(number, value, to);\r\n            \r\n            if(to.send(value)) {\r\n                emit Payment(to, value);\r\n            }\r\n            else {\r\n                emit PaymentFailed(to, value);\r\n                if(!to.send(amount)) {\r\n                    emit NotEnough(value - amount);\r\n                }\r\n            }\r\n        }\r\n        \r\n        else {\r\n            emit Rolled(number, 0, msg.sender);\r\n        }\r\n    }\r\n    \r\n    function Deposit() onlyBy(owner) payable public {\r\n        emit Deposited(msg.sender, msg.value);\r\n    }\r\n    \r\n    function Withdraw(uint value) onlyBy(owner) public {\r\n        address payable to = msg.sender;\r\n        if(value \u003C= address(this).balance) {\r\n            if(to.send(value)) {\r\n                emit Withdrew(to, value);\r\n            }\r\n            else {\r\n                emit WithdrewFailed(to, value);\r\n            }\r\n        }\r\n        \r\n        else {\r\n            emit WithdrewFailed(to, value);\r\n        }\r\n    }\r\n}","ABI":"[{\u0022inputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022constructor\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022user\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022Deposited\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022NotEnough\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022user\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022Payment\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022user\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022PaymentFailed\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022int16\u0022,\u0022name\u0022:\u0022number\u0022,\u0022type\u0022:\u0022int16\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022user\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022Rolled\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022TokensSendFailed\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022TokensSent\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022user\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022Withdrew\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022user\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022WithdrewFailed\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022AcceptOwner\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022newOwner\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022ChangeOwner\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022Deposit\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022int16\u0022,\u0022name\u0022:\u0022min\u0022,\u0022type\u0022:\u0022int16\u0022},{\u0022internalType\u0022:\u0022int16\u0022,\u0022name\u0022:\u0022max\u0022,\u0022type\u0022:\u0022int16\u0022}],\u0022name\u0022:\u0022Roll\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022Withdraw\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022owner\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022}]","ContractName":"RunDice","CompilerVersion":"v0.5.12\u002Bcommit.7709ece9","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://e9a88e96c7782dbafb356fc4f27d0ac2e375328d47552213a3a80733f70f9c9a"}]