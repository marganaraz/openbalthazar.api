[{"SourceCode":"pragma solidity 0.5.11;\r\n\r\n\r\n/**\r\n * @title DharmaUpgradeBeaconEnvoy\r\n * @author 0age\r\n * @notice This contract calls into an upgrade beacon on behalf of a controller\r\n * to retrieve the implementation address, since a call from the controller will\r\n * instead trigger an update of the upgrade beacon\u0027s implementation.\r\n */\r\ncontract DharmaUpgradeBeaconEnvoy {\r\n  /**\r\n   * @notice View function to check the existing implementation on a given\r\n   * beacon. This is accomplished via a staticcall to the beacon with no data,\r\n   * and the beacon will return an abi-encoded implementation address.\r\n   * @param beacon Address of the upgrade beacon to check for an implementation.\r\n   * @return implementation Address of the implementation.\r\n   */\r\n  function getImplementation(\r\n    address beacon\r\n  ) external view returns (address implementation) {\r\n    // Perform the staticcall into the supplied upgrade beacon.\r\n    (bool ok, bytes memory returnData) = beacon.staticcall(\u0022\u0022);\r\n\r\n    // Revert if underlying staticcall reverts, passing along revert message.\r\n    require(ok, string(returnData));\r\n\r\n    // Ensure that the data returned from the beacon is the correct length.\r\n    require(returnData.length == 32, \u0022Return data must be exactly 32 bytes.\u0022);\r\n\r\n    // Decode the address from the returned data and return it to the caller.\r\n    implementation = abi.decode(returnData, (address));\r\n  }\r\n}","ABI":"[{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022beacon\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022getImplementation\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022implementation\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022}]","ContractName":"DharmaUpgradeBeaconEnvoy","CompilerVersion":"v0.5.11\u002Bcommit.c082d0b4","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://107734a2fcd1d762a5f847530eab7552a2346f80ce0afa376570475d354bab32"}]