[{"SourceCode":"pragma solidity ^0.5.7;\r\n\r\n/**\r\n  * @title The GXToken Governance Contract\r\n  * @author NvestTechnologies\r\n  * @notice The GXToken Governance Contract is the core contract governing the allocation and withdrawals through a simple multi-sig mechanism.\r\n  */\r\n\r\n/**\r\n * Copyright \u00A92019 Nvest Technologies. All rights reserved. Code contained within or this file cannot be copied, modified and / or distributed \r\n * without the express written permission. Unauthorized copying or use of this file, via any medium is strictly prohibited.\r\n */\r\n\r\n\r\ncontract ERC20Interface {\r\n\r\n    function totalSupply() public view returns (uint);\r\n\r\n    function balanceOf(address tokenOwner) public view returns (uint balance);\r\n\r\n    function allowance(address tokenOwner, address spender) public view returns (uint remaining);\r\n\r\n    function transfer(address to, uint tokens) public returns (bool success);\r\n\r\n    function approve(address spender, uint tokens) public returns (bool success);\r\n\r\n    function transferFrom(address from, address to, uint tokens) public returns (bool success);\r\n\r\n\r\n    event Transfer(address indexed from, address indexed to, uint tokens);\r\n\r\n    event Approval(address indexed tokenOwner, address indexed spender, uint tokens);\r\n\r\n}\r\n\r\n\r\n\r\n\r\ncontract GX_Governance{\r\n    \r\n    \r\n    struct Holder{\r\n        \r\n        uint256  origin_timestamp;\r\n        uint256  lockperiod;\r\n        uint256  break_point_timestamp; // used only  for TeamFunds\r\n\r\n        uint256  request_init_timestamp;\r\n        uint256  request_end_timestamp;\r\n        \r\n        \r\n        uint256  allocation_percentage;\r\n        uint256  allocated_volume;\r\n        uint256  current_volume;\r\n\r\n        uint256  voting_count ;\r\n        uint256  transfer_volume;\r\n        \r\n        mapping (address =\u003E bool) voting_validator;\r\n        \r\n        bool valid;\r\n    }\r\n    uint256 public gx_total_supply = 350000000;\r\n    \r\n    uint256 public decimal_factor = (10 ** 18);\r\n\r\n    mapping (address =\u003E Holder) public holders;\r\n    \r\n    address public token_address = 0x60c87297A1fEaDC3C25993FfcadC54e99971e307;\r\n\r\n    address public admin1 = 0x3f7af1681465eED50772221f2Ff1D4395EC05b4a;\r\n    address public admin2 = 0x7cd63a912577D485312Df3b8Dde2b9D4Dc7030f2;\r\n    address public admin3 = 0x3481A3E8895Aa246890B0373AaCBC2Df84d34DbD;\r\n\r\n/**\r\n * @notice team_funds: These funds are only locked funds for over a period of two years and will be un-locked at the rate of 25% approximately for every 6 months.\r\n */\r\n\r\n    \r\n    address public team_funds ;\r\n    address public development_funds;\r\n    address public exchanges;\r\n    address public public_sale;\r\n    address public legal_compliance_stragtegic_partners;\r\n    \r\n    constructor() public{\r\n        \r\n    }\r\n    \r\n    event Message(string _message);\r\n    \r\n    function set_funding_address (address _team_funds, address _development_funds, address _public_sale, address _exchanges, address _legal_compliance_stragtegic_partners) public {\r\n        \r\n        require(msg.sender == admin1 || msg.sender == admin2 || msg.sender == admin3 , \u0022Not an admin\u0022);\r\n        \r\n        \r\n        team_funds =_team_funds;\r\n        holders[team_funds].allocation_percentage = 12; //to be locked\r\n        holders[team_funds].allocated_volume = (gx_total_supply * 12)/100;\r\n        holders[team_funds].current_volume = (gx_total_supply * 12)/100;\r\n        holders[team_funds].valid = true;\r\n        holders[team_funds].origin_timestamp = now;\r\n        holders[team_funds].lockperiod = 6 * 30 * 24 * 60 * 60;\r\n        holders[team_funds].break_point_timestamp = now;\r\n        \r\n\r\n        development_funds = _development_funds;\r\n        holders[development_funds].allocation_percentage = 8;\r\n        holders[development_funds].allocated_volume = (gx_total_supply * 8)/100;\r\n        holders[development_funds].current_volume = (gx_total_supply * 8)/100;\r\n        holders[development_funds].valid = true;\r\n        holders[development_funds].origin_timestamp = now;\r\n        holders[development_funds].lockperiod = 0;\r\n\r\n        exchanges = _exchanges;\r\n        holders[exchanges].allocation_percentage = 10;\r\n        holders[exchanges].allocated_volume = (gx_total_supply * 10)/100;\r\n        holders[exchanges].current_volume = (gx_total_supply * 10)/100 - 20000;\r\n        holders[exchanges].valid = true;\r\n        holders[exchanges].origin_timestamp = now;\r\n        holders[exchanges].lockperiod = 0;\r\n\r\n        public_sale = _public_sale;\r\n        holders[public_sale].allocation_percentage = 55;\r\n        holders[public_sale].allocated_volume = (gx_total_supply * 55)/100;\r\n        holders[public_sale].current_volume = (gx_total_supply * 55)/100 - 7505015;\r\n        holders[public_sale].valid = true;\r\n        holders[public_sale].origin_timestamp = now;\r\n        holders[public_sale].lockperiod = 0;\r\n\r\n        legal_compliance_stragtegic_partners = _legal_compliance_stragtegic_partners;\r\n        holders[legal_compliance_stragtegic_partners].allocation_percentage = 15;\r\n        holders[legal_compliance_stragtegic_partners].allocated_volume = (gx_total_supply * 15)/100;\r\n        holders[legal_compliance_stragtegic_partners].current_volume = (gx_total_supply * 15)/100;\r\n        holders[legal_compliance_stragtegic_partners].valid = true;\r\n        holders[legal_compliance_stragtegic_partners].origin_timestamp = now;\r\n        holders[legal_compliance_stragtegic_partners].lockperiod = 0;\r\n    }\r\n    \r\n    /**\r\n     * @param  _holder --\u003E Contract address which holds the distributed funds.\r\n     * @param  _to --\u003E Address to which the funds are to be transferred.\r\n     * @param  _volume --\u003E Value of Funds to be transferred.\r\n    */\r\n    \r\n    function approve_transfer(address _holder, address _to, uint256 _volume) public returns(string memory){\r\n        ERC20Interface token = ERC20Interface(token_address);\r\n        \r\n        require(msg.sender == admin1 || msg.sender == admin2 || msg.sender == admin3 , \u0022Not an admin\u0022);\r\n        require(holders[_holder].valid == true,\u0022Invalid Holder\u0022);\r\n        require(holders[_holder].current_volume \u003E 0, \u0022All allocated supply is already taken/transfered\u0022);\r\n        require(_volume \u003E 0,\u0022Enter greater than zero\u0022);\r\n        require(token.balanceOf(_holder) \u003E= _volume);\r\n        \r\n        if(_holder == team_funds){\r\n            require(now \u003E holders[_holder].break_point_timestamp \u002B holders[_holder].lockperiod,\u0022Try after lockin period elapsed\u0022);\r\n            _volume = (holders[_holder].allocated_volume * 25)/ 100;  \r\n        } \r\n        \r\n        require(_volume \u003C= holders[_holder].current_volume,\u0022Insufficient Volume\u0022);\r\n        require(holders[_holder].voting_validator[msg.sender] == false ,\u0022Already voted\u0022);\r\n\r\n        \r\n        if(holders[_holder].voting_count ==  0){\r\n            holders[_holder].voting_count = holders[_holder].voting_count \u002B 1;\r\n            \r\n            holders[_holder].transfer_volume = _volume;\r\n            holders[_holder].voting_validator[msg.sender] = true;\r\n            holders[_holder].request_init_timestamp = now;\r\n            holders[_holder].request_end_timestamp = now \u002B (24 * 60 * 60); // 1 day validity of any request\r\n            emit Message(\u0022Vote Counted !!!\u0022);\r\n            return \u0022Vote Counted !!!\u0022;\r\n        }\r\n        else{\r\n            require(holders[_holder].transfer_volume == _volume, \u0022Please agree upon the same volume\u0022);\r\n            holders[_holder].voting_count = holders[_holder].voting_count \u002B 1;\r\n            \r\n            if(holders[_holder].voting_count \u003E= 2){\r\n                \r\n                if(now \u003E holders[_holder].request_init_timestamp \u0026\u0026 now \u003C= holders[_holder].request_end_timestamp){\r\n                \r\n                    \r\n                    token.transferFrom(_holder, _to, (holders[_holder].transfer_volume ) * decimal_factor);\r\n\r\n                    holders[_holder].current_volume = holders[_holder].current_volume - holders[_holder].transfer_volume;\r\n                    if(_holder == team_funds){\r\n                        holders[_holder].break_point_timestamp = holders[_holder].break_point_timestamp \u002B holders[_holder].lockperiod;\r\n                    }\r\n                    clear_values(_holder);\r\n                    emit Message(\u0022Approve \u0026 Transfer Successfull\u0022);\r\n                    return \u0022true\u0022;\r\n\r\n                }\r\n                else {\r\n                    clear_values(_holder);\r\n                    emit Message(\u0022Request Expired\u0022);\r\n                    return \u0022Request Expired\u0022;\r\n                }             \r\n             \r\n            }\r\n        } \r\n    }\r\n\r\n    function clear_values(address _holder) internal {\r\n\r\n                holders[_holder].voting_count = 0;\r\n                holders[_holder].transfer_volume = 0;\r\n                holders[_holder].voting_validator[admin1]  = false;\r\n                holders[_holder].voting_validator[admin2]  = false;\r\n                holders[_holder].voting_validator[admin3]  = false;\r\n                holders[_holder].request_init_timestamp = 0;\r\n                holders[_holder].request_end_timestamp = 0;\r\n\r\n    }\r\n    \r\n    \r\n    function distribute_funds () public {\r\n        require(msg.sender == admin1 || msg.sender == admin2 || msg.sender == admin3 , \u0022Not an admin\u0022);\r\n        \r\n        ERC20Interface token = ERC20Interface(token_address);\r\n        \r\n        token.transfer(team_funds, holders[team_funds].current_volume * decimal_factor);\r\n        token.transfer(development_funds, holders[development_funds].current_volume * decimal_factor);\r\n        token.transfer(public_sale, holders[public_sale].current_volume * decimal_factor);\r\n        token.transfer(exchanges, holders[exchanges].current_volume * decimal_factor);\r\n        token.transfer(legal_compliance_stragtegic_partners, holders[legal_compliance_stragtegic_partners].current_volume * decimal_factor);\r\n        \r\n        emit Message (\u0022Funds Dispensed!!! \u0022);\r\n    }\r\n    \r\n    \r\n\r\n}","ABI":"[{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022team_funds\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022decimal_factor\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022admin2\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022admin1\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022development_funds\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022holders\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022origin_timestamp\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022lockperiod\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022break_point_timestamp\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022request_init_timestamp\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022request_end_timestamp\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022allocation_percentage\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022allocated_volume\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022current_volume\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022voting_count\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022transfer_volume\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022valid\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022admin3\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022exchanges\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_team_funds\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022_development_funds\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022_public_sale\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022_exchanges\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022_legal_compliance_stragtegic_partners\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022set_funding_address\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022token_address\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022public_sale\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022legal_compliance_stragtegic_partners\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_holder\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022_to\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022_volume\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022approve_transfer\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022string\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022gx_total_supply\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022distribute_funds\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022inputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022constructor\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022_message\u0022,\u0022type\u0022:\u0022string\u0022}],\u0022name\u0022:\u0022Message\u0022,\u0022type\u0022:\u0022event\u0022}]","ContractName":"GX_Governance","CompilerVersion":"v0.5.7\u002Bcommit.6da8b019","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://ab4076c343ead63eb2d7f70aebfa2d7b6b340dfdd138777815b5cfc05b1c5003"}]