[{"SourceCode":"/**\r\n * This smart contract code is Copyright 2018, 2019 TokenMarket Ltd. For more information see https://tokenmarket.net\r\n * Licensed under the Apache License, version 2.0: https://github.com/TokenMarketNet/ico/blob/master/LICENSE.txt\r\n */\r\n\r\n\r\ninterface KYCInterface {\r\n  event AttributesSet(address indexed who, uint256 indexed flags);\r\n\r\n  function getAttribute(address addr, uint8 attribute) external view returns (bool);\r\n}\r\n\r\n\r\ninterface SecurityTransferAgent {\r\n  function verify(address from, address to, uint256 value) external view returns (uint256 newValue);\r\n}\r\n\r\n\r\ncontract RestrictedTransferAgent is SecurityTransferAgent {\r\n  KYCInterface KYC;\r\n\r\n  function RestrictedTransferAgent(KYCInterface _KYC) {\r\n    KYC = _KYC;\r\n  }\r\n\r\n  /**\r\n   * @dev Checking if transfer can happen, and if so, what is the right amount\r\n   *\r\n   * @param from The account sending the tokens\r\n   * @param to The account receiving the tokens\r\n   * @param value The indended amount\r\n   * @return The actual amount permitted\r\n   */\r\n  function verify(address from, address to, uint256 value) public view returns (uint256 newValue) {\r\n    if (address(KYC) == address(0)) {\r\n      return value;\r\n    }\r\n\r\n    if (KYC.getAttribute(to, 0) \u0026\u0026 KYC.getAttribute(from, 0)) {\r\n      return value;\r\n    } else if (KYC.getAttribute(from, 1)) {\r\n      return value;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n}","ABI":"[{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022name\u0022:\u0022from\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022to\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022verify\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022newValue\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022inputs\u0022:[{\u0022name\u0022:\u0022_KYC\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022constructor\u0022}]","ContractName":"RestrictedTransferAgent","CompilerVersion":"v0.4.24\u002Bcommit.e67f0147","OptimizationUsed":"1","Runs":"500","ConstructorArguments":"0000000000000000000000007baf8432cd4640c8fc578278337e37e14d3ca49e","Library":"","SwarmSource":"bzzr://8cb25ef6d26c511ef2830c560fe702696280bb5bf35849fd02d756a926d8c22a"}]