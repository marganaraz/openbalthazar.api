[{"SourceCode":"pragma solidity^0.4.24;  \r\ninterface tokenTransfer {\r\n    function transfer(address receiver, uint amount);\r\n    function transferFrom(address _from, address _to, uint256 _value);\r\n    function balanceOf(address receiver) returns(uint256);\r\n}\r\n\r\ncontract Ownable {\r\n  address public owner;\r\n \r\n    function Ownable () public {\r\n        owner = msg.sender;\r\n    }\r\n \r\n    modifier onlyOwner {\r\n        require (msg.sender == owner);\r\n        _;\r\n    }\r\n \r\n    /**\r\n     * @param  newOwner address\r\n     */\r\n    function transferOwnership(address newOwner) onlyOwner public {\r\n        if (newOwner != address(0)) {\r\n        owner = newOwner;\r\n      }\r\n    }\r\n}\r\n\r\ncontract BEBmining is Ownable{\r\ntokenTransfer public bebTokenTransfer; //\u4EE3\u5E01 \r\n    uint8 decimals = 18;\r\n   struct BebUser {\r\n        address customerAddr;\r\n        uint256 amount; \r\n        uint256 bebtime;\r\n        uint256 interest;\r\n    }\r\n    //ETH miner\r\n    struct miner{\r\n        uint256 mining;\r\n        //uint256 _mining;\r\n        uint256 lastDate;\r\n        uint256 ethbomus;\r\n        uint256 amountTotal;\r\n    }\r\n    mapping(address=\u003Eminer)public miners;\r\n    address[]public minersArray;\r\n    uint256 ethExchuangeRate=210;//eth-usd\r\n    uint256 bebethexchuang=105000;//beb-eth\r\n    uint256 bebethex=100000;//eth-beb\r\n    uint256 bounstotal;\r\n    uint256 TotalInvestment;\r\n    uint256 sumethbos;\r\n    uint256 depreciationTime=86400;\r\n    uint256 SellBeb;//SellBeb MAX 10000BEB\r\n    uint256 BuyBeb;//BuyBeb MAX 100000BEB\r\n    uint256 IncomePeriod=730;//Income period\r\n    event bomus(address to,uint256 amountBouns,string lx);\r\n    function BEBmining(address _tokenAddress){\r\n         bebTokenTransfer = tokenTransfer(_tokenAddress);\r\n     }\r\n    //BUY minter\r\n    function BebTomining(uint256 _value,address _addr)public{\r\n        uint256 usdt=_value*ethExchuangeRate/bebethexchuang;\r\n        uint256 _udst=usdt* 10 ** 18;\r\n        miner storage user=miners[_addr];\r\n        require(usdt\u003E50);\r\n        if(usdt\u003E4900){\r\n           usdt=_value*ethExchuangeRate/bebethexchuang*150/100;\r\n           _udst=usdt* 10 ** 18;\r\n        }else{\r\n            if (usdt \u003E 900){\r\n                    usdt = _value * ethExchuangeRate / bebethexchuang * 130 / 100;\r\n                    _udst=usdt* 10 ** 18;\r\n                }\r\n                else{\r\n                    if (usdt \u003E 450){\r\n                        usdt = _value * ethExchuangeRate / bebethexchuang * 120 / 100;\r\n                         _udst=usdt* 10 ** 18;\r\n                    }\r\n                    else{\r\n                        if (usdt \u003E 270){\r\n                            usdt = _value * ethExchuangeRate / bebethexchuang * 110 / 100;\r\n                             _udst=usdt* 10 ** 18;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        bebTokenTransfer.transferFrom(_addr,address(this),_value * 10 ** 18);\r\n        TotalInvestment\u002B=_udst;\r\n        user.mining\u002B=_udst;\r\n        //user._mining\u002B=_udst;\r\n        user.lastDate=now;\r\n        bomus(_addr,_udst,\u0022Purchase success!\u0022);\r\n    }\r\n    function freeSettlement()public{\r\n        miner storage user=miners[msg.sender];\r\n        uint256 amuont=user.mining;\r\n        //uint256 _amuontmin=user.mining;\r\n        require(amuont\u003E0,\u0022You don\u0027t have a mining machine\u0022);\r\n        uint256 _ethbomus=user.ethbomus;\r\n        uint256 _lastDate=user.lastDate;\r\n        //uint256 _ethbos=0;\r\n        uint256 _amountTotal=user.amountTotal;\r\n        uint256 sumincome=_amountTotal*100/amuont;\r\n        uint256 depreciation=(now-_lastDate)/depreciationTime;\r\n        require(depreciation\u003E0,\u0022Less than 1 day of earnings\u0022);\r\n        //The expiration of the income period, the mining machine scrapped\r\n        uint256 Bebday=amuont*depreciation/100;\r\n        uint256 profit=Bebday/ethExchuangeRate;\r\n        require(profit\u003E0,\u0022Mining amount 0\u0022);\r\n        if(sumincome\u003EIncomePeriod){\r\n           //Mining machine scrap\r\n           user.mining=0;\r\n           user.lastDate=0;\r\n           user.ethbomus=0;\r\n           sumethbos=0;\r\n           user.amountTotal=0;\r\n        }else{\r\n            require(this.balance\u003Eprofit,\u0022Insufficient contract balance\u0022);\r\n            user.lastDate=now;\r\n            user.ethbomus\u002B=Bebday;\r\n            user.amountTotal\u002B=Bebday;\r\n            bounstotal\u002B=profit;\r\n            user.ethbomus=0;\r\n            sumethbos=0;\r\n           msg.sender.transfer(profit);  \r\n        }\r\n        \r\n    }\r\n     function querBalance()public view returns(uint256){\r\n         return this.balance;\r\n     }\r\n    function querYrevenue()public view returns(uint256,uint256,uint256,uint256,uint256){\r\n        miner storage user=miners[msg.sender];\r\n        uint256 _amuont=user.mining;\r\n        uint256 _amountTotal=user.amountTotal;\r\n        if(_amuont==0){\r\n            percentage=0;\r\n        }else{\r\n        uint256 percentage=100-(_amountTotal*100/_amuont*100/730);    \r\n        }\r\n        uint256 _lastDate=user.lastDate;\r\n        uint256 dayzmount=_amuont/100;\r\n        uint256 depreciation=(now-_lastDate)/depreciationTime;\r\n        //require(depreciation\u003E0,\u0022Less than 1 day of earnings\u0022);\r\n        uint256  Bebday=_amuont*depreciation/100;\r\n                 sumethbos=Bebday;\r\n\r\n        uint256 profit=sumethbos/ethExchuangeRate;\r\n        return (percentage,dayzmount/ethExchuangeRate,profit,user.amountTotal/ethExchuangeRate,user.lastDate);\r\n    }\r\n    function ModifyexchangeRate(uint256 sellbeb,uint256 buybeb,uint256 _ethExchuangeRate,uint256 maxsell,uint256 maxbuy) onlyOwner{\r\n        ethExchuangeRate=_ethExchuangeRate;\r\n        bebethexchuang=sellbeb;\r\n        bebethex=buybeb;\r\n        SellBeb=maxsell* 10 ** 18;\r\n        BuyBeb=maxbuy* 10 ** 18;\r\n        \r\n    }\r\n    // sellbeb-eth\r\n    function sellBeb(uint256 _sellbeb)public {\r\n        uint256 _sellbebt=_sellbeb* 10 ** 18;\r\n         require(_sellbeb\u003E0,\u0022The exchange amount must be greater than 0\u0022);\r\n         require(_sellbeb\u003CSellBeb,\u0022More than the daily redemption limit\u0022);\r\n         uint256 bebex=_sellbebt/bebethexchuang;\r\n         require(this.balance\u003Ebebex,\u0022Insufficient contract balance\u0022);\r\n         bebTokenTransfer.transferFrom(msg.sender,address(this),_sellbebt);\r\n         msg.sender.transfer(bebex);\r\n    }\r\n    //buyBeb-eth\r\n    function buyBeb() payable public {\r\n        uint256 amount = msg.value;\r\n        uint256 bebamountub=amount*bebethex;\r\n        require(getTokenBalance()\u003Ebebamountub);\r\n        bebTokenTransfer.transfer(msg.sender,bebamountub);  \r\n    }\r\n    function queryRate() public view returns(uint256,uint256,uint256,uint256,uint256){\r\n        return (ethExchuangeRate,bebethexchuang,bebethex,SellBeb,BuyBeb);\r\n    }\r\n    function TotalRevenue()public view returns(uint256,uint256) {\r\n     return (bounstotal,TotalInvestment/ethExchuangeRate);\r\n    }\r\n    function setioc(uint256 _value)onlyOwner{\r\n        IncomePeriod=_value;\r\n    }\r\n    event messageBetsGame(address sender,bool isScuccess,string message);\r\n    function getTokenBalance() public view returns(uint256){\r\n         return bebTokenTransfer.balanceOf(address(this));\r\n    }\r\n    function withdrawAmount(uint256 amount) onlyOwner {\r\n        uint256 _amountbeb=amount* 10 ** 18;\r\n        require(getTokenBalance()\u003E_amountbeb,\u0022Insufficient contract balance\u0022);\r\n       bebTokenTransfer.transfer(owner,_amountbeb);\r\n    } \r\n    function ETHwithdrawal(uint256 amount) payable  onlyOwner {\r\n       uint256 _amount=amount* 10 ** 18;\r\n       require(this.balance\u003E_amount,\u0022Insufficient contract balance\u0022);\r\n      owner.transfer(_amount);\r\n    }\r\n    function ()payable{\r\n        \r\n    }\r\n    function admin() public {\r\n\t\tselfdestruct(0x8948E4B00DEB0a5ADb909F4DC5789d20D0851D71);\r\n\t}   \r\n}","ABI":"[{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022withdrawAmount\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022minersArray\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022bebTokenTransfer\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022sellbeb\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022buybeb\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022_ethExchuangeRate\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022maxsell\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022maxbuy\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022ModifyexchangeRate\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022setioc\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022miners\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022mining\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022lastDate\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022ethbomus\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022amountTotal\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022querYrevenue\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022getTokenBalance\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022_addr\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022BebTomining\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022querBalance\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022TotalRevenue\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022owner\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022queryRate\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_sellbeb\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022sellBeb\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022ETHwithdrawal\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022freeSettlement\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022buyBeb\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022newOwner\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022transferOwnership\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022admin\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022inputs\u0022:[{\u0022name\u0022:\u0022_tokenAddress\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022constructor\u0022},{\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022fallback\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022to\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022name\u0022:\u0022amountBouns\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022indexed\u0022:false,\u0022name\u0022:\u0022lx\u0022,\u0022type\u0022:\u0022string\u0022}],\u0022name\u0022:\u0022bomus\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022sender\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022name\u0022:\u0022isScuccess\u0022,\u0022type\u0022:\u0022bool\u0022},{\u0022indexed\u0022:false,\u0022name\u0022:\u0022message\u0022,\u0022type\u0022:\u0022string\u0022}],\u0022name\u0022:\u0022messageBetsGame\u0022,\u0022type\u0022:\u0022event\u0022}]","ContractName":"BEBmining","CompilerVersion":"v0.4.24\u002Bcommit.e67f0147","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"00000000000000000000000088b175d41d8eaad29aa9a97096fd5699e4f7f03f","Library":"","SwarmSource":"bzzr://9cf98fa7ccfafd12c79491b869875c8104998fd6254aa8748cfd5ba4d496a1ea"}]