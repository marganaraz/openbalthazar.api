[{"SourceCode":"pragma solidity ^0.5.0;\r\n\r\ninterface ENS {\r\n  function owner( bytes32 _node ) external view returns (address);\r\n}\r\n\r\ninterface ReverseRegistrar {\r\n  function claim( address _owner ) external returns (bytes32 node);\r\n}\r\n\r\ninterface ERC20 {\r\n  function balanceOf( address owner ) external view returns (uint);\r\n  function transfer( address _to, uint256 _value ) external returns (bool);\r\n}\r\n\r\ncontract Resolver {\r\n\r\n  event AddrChanged( bytes32 indexed node, address a );\r\n  event PubkeyChanged( bytes32 indexed node, bytes32 x, bytes32 y );\r\n\r\n  struct PubKey {\r\n    bytes32 x;\r\n    bytes32 y;\r\n  }\r\n\r\n  mapping( bytes32 =\u003E address ) public addr;\r\n  mapping( bytes32 =\u003E PubKey ) public keys;\r\n  ENS public theENS;\r\n  address payable public beneficiary;\r\n\r\n  modifier owns( bytes32 _node ) {\r\n    require( msg.sender == theENS.owner(_node) );\r\n    _;\r\n  }\r\n\r\n  // namehash(\u0027addr.reverse\u0027)\r\n  bytes32 constant REV_ADDR_NODE =\r\n    0x91d1777781884d03a6757a803996e38de2a42967fb37eeaca72729271025a9e2;\r\n\r\n  function supportsInterface( bytes4 _id ) external pure returns (bool) {\r\n    return    _id == 0x3b3b57de   // addr, EIP137\r\n           || _id == 0xc8690233;  // pubkey, EIP619\r\n  }\r\n\r\n  function setAddr( bytes32 _node, address _newAddr ) external owns(_node) {\r\n    addr[_node] = _newAddr;\r\n    emit AddrChanged( _node, _newAddr );\r\n  }\r\n\r\n  function pubkey( bytes32 _node ) external view\r\n  returns (bytes32 _x, bytes32 _y) {\r\n    return ( keys[_node].x, keys[_node].y );\r\n  }\r\n\r\n  function setPubkey( bytes32 _node, bytes32 _x, bytes32 _y )\r\n  external owns(_node) {\r\n    keys[_node] = PubKey( _x, _y );\r\n    emit PubkeyChanged( _node, _x, _y );\r\n  }\r\n\r\n  constructor( address _ens ) public {\r\n    theENS = ENS(_ens);\r\n    beneficiary = msg.sender;\r\n    ReverseRegistrar rr = ReverseRegistrar( theENS.owner(REV_ADDR_NODE) );\r\n    rr.claim( msg.sender ); // give \u003Cthissca\u003E.addr.reverse to our deployer\r\n  }\r\n\r\n  function () payable external {}\r\n\r\n  function sweepEther() external {\r\n    beneficiary.transfer( address(this).balance );\r\n  }\r\n\r\n  function sweepToken( address _erc20 ) external {\r\n    ERC20 token = ERC20( _erc20 );\r\n    token.transfer( beneficiary, token.balanceOf(address(this)) );\r\n  }\r\n\r\n  function changeBeneficiary( address payable _to ) external {\r\n    require( msg.sender == beneficiary );\r\n    beneficiary = _to;\r\n  }\r\n\r\n}","ABI":"[{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022bytes4\u0022,\u0022name\u0022:\u0022_id\u0022,\u0022type\u0022:\u0022bytes4\u0022}],\u0022name\u0022:\u0022supportsInterface\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022pure\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_erc20\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022sweepToken\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022_node\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022_x\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022_y\u0022,\u0022type\u0022:\u0022bytes32\u0022}],\u0022name\u0022:\u0022setPubkey\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022theENS\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022contract ENS\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022beneficiary\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address payable\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bytes32\u0022}],\u0022name\u0022:\u0022addr\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022sweepEther\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022_node\u0022,\u0022type\u0022:\u0022bytes32\u0022}],\u0022name\u0022:\u0022pubkey\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022_x\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022_y\u0022,\u0022type\u0022:\u0022bytes32\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022_node\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_newAddr\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022setAddr\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address payable\u0022,\u0022name\u0022:\u0022_to\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022changeBeneficiary\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bytes32\u0022}],\u0022name\u0022:\u0022keys\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022x\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022y\u0022,\u0022type\u0022:\u0022bytes32\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_ens\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022constructor\u0022},{\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022fallback\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022node\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022a\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022AddrChanged\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022node\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022x\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022y\u0022,\u0022type\u0022:\u0022bytes32\u0022}],\u0022name\u0022:\u0022PubkeyChanged\u0022,\u0022type\u0022:\u0022event\u0022}]","ContractName":"Resolver","CompilerVersion":"v0.5.11\u002Bcommit.c082d0b4","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"000000000000000000000000314159265dd8dbb310642f98f50c066173c1259b","Library":"","SwarmSource":"bzzr://7bad9738b2d27b21438164fb2bb6359b486566c552b4ccea4a6417f9aec6337f"}]