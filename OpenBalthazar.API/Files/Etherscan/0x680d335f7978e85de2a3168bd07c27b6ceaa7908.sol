[{"SourceCode":"{\u0022ManagerRole.sol\u0022:{\u0022content\u0022:\u0022pragma solidity 0.4.25;\\n\\nimport \\\u0022./Roles.sol\\\u0022;\\n\\ncontract ManagerRole {\\n\\n    event HumanManagerAdded(address indexed account);\\n    event HumanManagerRemoved(address indexed account);\\n    event ContractManagerAdded(address indexed account);\\n\\n    address public feeManager;\\n    address public settingsManager;\\n    address public tBoxManager;\\n\\n    constructor () internal {\\n        settingsManager = msg.sender;\\n        feeManager = msg.sender;\\n    }\\n\\n    modifier onlyFeeManager() {\\n        require(isFeeManager(msg.sender));\\n        _;\\n    }\\n\\n    modifier onlySettingsManager() {\\n        require(isSettingsManager(msg.sender));\\n        _;\\n    }\\n\\n    modifier onlyManagerContract() {\\n        require(isContractManager(msg.sender));\\n        _;\\n    }\\n\\n    function isFeeManager(address account) public view returns (bool) {\\n        return account == feeManager;\\n    }\\n\\n    function isSettingsManager(address account) public view returns (bool) {\\n        return account == settingsManager;\\n    }\\n\\n    function isContractManager(address account) public view returns (bool) {\\n        return account == tBoxManager;\\n    }\\n\\n    function setContractManager(address account) public onlySettingsManager {\\n        _setContract(account);\\n    }\\n\\n    function changeFeeManager(address account) public onlyFeeManager {\\n        require(account != address(0));\\n        feeManager = account;\\n    }\\n\\n    function renounceSettingsManager() public onlySettingsManager {\\n        settingsManager = address(0);\\n    }\\n\\n\\n    function _setContract(address account) internal {\\n        tBoxManager = account;\\n        emit ContractManagerAdded(account);\\n    }\\n}\\n\u0022},\u0022Roles.sol\u0022:{\u0022content\u0022:\u0022pragma solidity 0.4.25;\\n\\n/**\\n * @title Roles\\n * @dev Library for managing addresses assigned to a Role.\\n */\\nlibrary Roles {\\n    struct Role {\\n        mapping (address =\\u003e bool) bearer;\\n    }\\n\\n    /**\\n     * @dev give an account access to this role\\n     */\\n    function add(Role storage role, address account) internal {\\n        require(account != address(0));\\n        require(!has(role, account));\\n\\n        role.bearer[account] = true;\\n    }\\n\\n    /**\\n     * @dev remove an account\\u0027s access to this role\\n     */\\n    function remove(Role storage role, address account) internal {\\n        require(account != address(0));\\n        require(has(role, account));\\n\\n        role.bearer[account] = false;\\n    }\\n\\n    /**\\n     * @dev check if an account has this role\\n     * @return bool\\n     */\\n    function has(Role storage role, address account) internal view returns (bool) {\\n        require(account != address(0));\\n        return role.bearer[account];\\n    }\\n}\\n\u0022},\u0022TimviSettings.sol\u0022:{\u0022content\u0022:\u0022pragma solidity 0.4.25;\\n\\nimport \\\u0022./ManagerRole.sol\\\u0022;\\n\\n/// @title TimviSettings\\ncontract TimviSettings is ManagerRole {\\n\\n    event MinDepositUpdated(uint256 _value);\\n    event SysFeeUpdated(uint256 _value);\\n    event UserFeeUpdated(uint256 _value);\\n    event TotalFeeUpdated(uint256 _value);\\n    event GlobalSafetyBagUpdated(uint256 _value);\\n    event GasPriceLimitUpdated(uint256 _value);\\n\\n    uint256 public minDeposit;\\n    uint256 public sysFee;\\n    uint256 public userFee;\\n\\n    uint256 public gasPriceLimit;\\n\\n    uint256 public globalSafetyBag;\\n\\n    uint256 public totalFee;\\n    address public oracleAddress;\\n    address public tmvAddress;\\n\\n    constructor() public {\\n        minDeposit = 50 finney;\\n        sysFee = 3000; // 3%\\n        userFee = 3000; // 3%\\n        globalSafetyBag = 34783; // 34,783%\\n        totalFee = 6000; //6%\\n        gasPriceLimit = 0.021 szabo; // 21 GWei\\n\\n        emit MinDepositUpdated(minDeposit);\\n        emit SysFeeUpdated(sysFee);\\n        emit UserFeeUpdated(userFee);\\n        emit TotalFeeUpdated(totalFee);\\n        emit GlobalSafetyBagUpdated(globalSafetyBag);\\n        emit GasPriceLimitUpdated(gasPriceLimit);\\n    }\\n\\n    function setMinDepo(uint256 _value) external onlyFeeManager {\\n        require(_value \\u003e 0 \\u0026\\u0026 _value \\u003c 10 ether, \\\u0022Value out of range\\\u0022);\\n        minDeposit = _value;\\n        emit MinDepositUpdated(minDeposit);\\n    }\\n\\n    function setSysCom(uint256 _value) external onlyFeeManager {\\n        require(_value \\u003c= totalFee / 2, \\\u0022Value out of range\\\u0022);\\n        sysFee = _value;\\n        userFee = totalFee - _value;\\n        emit SysFeeUpdated(sysFee);\\n        emit UserFeeUpdated(userFee);\\n    }\\n\\n    function setFeeTotal(uint256 _totalFee, uint256 _sysFee) external onlyFeeManager {\\n        require(_totalFee \\u003e 1000 \\u0026\\u0026 _totalFee \\u003c= 6000, \\\u0022Value out of range\\\u0022);\\n        require(_sysFee \\u003c= _totalFee / 2, \\\u0022Value out of range\\\u0022);\\n        totalFee = _totalFee;\\n        sysFee = _sysFee;\\n        userFee = totalFee - _sysFee;\\n        emit TotalFeeUpdated(totalFee);\\n        emit SysFeeUpdated(sysFee);\\n        emit UserFeeUpdated(userFee);\\n    }\\n\\n    function setOracleAddress(address _addr) external onlyFeeManager {\\n        require(_addr != address(0), \\\u0022Zero address\\\u0022);\\n        oracleAddress = _addr;\\n    }\\n\\n    function setGasPriceLimit(uint256 _limit) external onlyFeeManager {\\n        require(_limit \\u003e 0.005 szabo, \\\u0022Gas price limit must be greater than 5 GWei\\\u0022);\\n        gasPriceLimit = _limit;\\n        emit GasPriceLimitUpdated(gasPriceLimit);\\n    }\\n\\n    function setSafetyBag(uint256 _bag) external onlyFeeManager {\\n        require(_bag \\u003c= 100000, \\\u0022Value out of range\\\u0022);\\n        globalSafetyBag = _bag;\\n        emit GlobalSafetyBagUpdated(globalSafetyBag);\\n    }\\n\\n    function setTmvAddress(address _addr) external onlySettingsManager {\\n        require(_addr != address(0), \\\u0022Zero address\\\u0022);\\n        tmvAddress = _addr;\\n    }\\n\\n    function minStability() public view returns(uint256) {\\n        return 100000 \u002B totalFee;\\n    }\\n\\n    function maxStability() public view returns(uint256) {\\n        return minStability() * 150 / 23 / 100 \u002B minStability();\\n    }\\n\\n    function ratio() public view returns(uint256) {\\n        return minStability() * 50 / 23 / 100 \u002B maxStability();\\n    }\\n\\n    function globalTargetCollateralization() public view returns(uint256) {\\n        return ratio() \u002B globalSafetyBag;\\n    }\\n}\\n\u0022}}","ABI":"[{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_totalFee\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022_sysFee\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022setFeeTotal\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_bag\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022setSafetyBag\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_limit\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022setGasPriceLimit\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022totalFee\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022sysFee\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022name\u0022:\u0022account\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022isContractManager\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022tmvAddress\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022name\u0022:\u0022account\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022isFeeManager\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022minDeposit\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022userFee\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022tBoxManager\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022globalTargetCollateralization\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_addr\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022setOracleAddress\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022ratio\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022globalSafetyBag\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022renounceSettingsManager\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022setSysCom\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022gasPriceLimit\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022oracleAddress\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022setMinDepo\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022settingsManager\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022account\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022changeFeeManager\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022name\u0022:\u0022account\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022isSettingsManager\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022feeManager\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022account\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022setContractManager\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_addr\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022setTmvAddress\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022maxStability\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022minStability\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022inputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022constructor\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022MinDepositUpdated\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022SysFeeUpdated\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022UserFeeUpdated\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022TotalFeeUpdated\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022GlobalSafetyBagUpdated\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022GasPriceLimitUpdated\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022name\u0022:\u0022account\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022HumanManagerAdded\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022name\u0022:\u0022account\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022HumanManagerRemoved\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022name\u0022:\u0022account\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022ContractManagerAdded\u0022,\u0022type\u0022:\u0022event\u0022}]","ContractName":"TimviSettings","CompilerVersion":"v0.4.25\u002Bcommit.59dbf8f1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://d142b1941b2c4dfcee7a15b8986366df793f558555f12443ccf8f0c35b6970e0"}]