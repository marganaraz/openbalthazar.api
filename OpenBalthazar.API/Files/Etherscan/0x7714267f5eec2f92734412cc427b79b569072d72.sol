[{"SourceCode":"/**************************************************************************\r\n *            ____        _                              \r\n *           / ___|      | |     __ _  _   _   ___  _ __ \r\n *          | |    _____ | |    / _\u0060 || | | | / _ \\| \u0027__|\r\n *          | |___|_____|| |___| (_| || |_| ||  __/| |   \r\n *           \\____|      |_____|\\__,_| \\__, | \\___||_|   \r\n *                                     |___/             \r\n * \r\n **************************************************************************\r\n *\r\n *  The MIT License (MIT)\r\n *\r\n * Copyright (c) 2016-2019 Cyril Lapinte\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \u0022Software\u0022), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included\r\n * in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \u0022AS IS\u0022, WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n **************************************************************************\r\n *\r\n * Flatten Contract: Tokensale\r\n *\r\n * Git Commit:\r\n * https://github.com/c-layer/contracts/tree/43925ba24cc22f42d0ff7711d0e169e8c2a0e09f\r\n *\r\n **************************************************************************/\r\n\r\n\r\n// File: contracts/interface/IERC20.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n/**\r\n * @title IERC20 interface\r\n * @dev see https://github.com/ethereum/EIPs/issues/20\r\n * @dev see https://github.com/ethereum/EIPs/issues/179\r\n */\r\ncontract IERC20 {\r\n  function name() public view returns (string memory);\r\n  function symbol() public view returns (string memory);\r\n  function decimals() public view returns (uint256);\r\n  function totalSupply() public view returns (uint256);\r\n  function balanceOf(address who) public view returns (uint256);\r\n  function transfer(address to, uint256 value) public returns (bool);\r\n\r\n  function allowance(address owner, address spender)\r\n    public view returns (uint256);\r\n\r\n  function transferFrom(address from, address to, uint256 value)\r\n    public returns (bool);\r\n\r\n  function approve(address spender, uint256 value) public returns (bool);\r\n\r\n  function increaseApproval(address spender, uint addedValue)\r\n    public returns (bool);\r\n\r\n  function decreaseApproval(address spender, uint subtractedValue)\r\n    public returns (bool);\r\n\r\n  event Transfer(address indexed from, address indexed to, uint256 value);\r\n  event Approval(\r\n    address indexed owner,\r\n    address indexed spender,\r\n    uint256 value\r\n  );\r\n}\r\n\r\n// File: contracts/interface/ITokensale.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n/**\r\n * @title ITokensale\r\n * @dev ITokensale interface\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n */\r\ncontract ITokensale {\r\n\r\n  function () external payable;\r\n  function investETH() public payable;\r\n\r\n  function token() public view returns (IERC20);\r\n  function vaultETH() public view returns (address);\r\n  function vaultERC20() public view returns (address);\r\n  function tokenPrice() public view returns (uint256);\r\n  function totalRaised() public view returns (uint256);\r\n  function totalUnspentETH() public view returns (uint256);\r\n  function totalRefundedETH() public view returns (uint256);\r\n  function availableSupply() public view returns (uint256);\r\n  \r\n  function investorUnspentETH(address _investor) public view returns (uint256);\r\n  function investorInvested(address _investor) public view returns (uint256);\r\n  function investorTokens(address _investor) public view returns (uint256);\r\n\r\n  function tokenInvestment(address _investor, uint256 _amount) public view returns (uint256);\r\n  function refundManyUnspentETH(address payable[] memory _receivers) public returns (bool);\r\n  function refundUnspentETH() public returns (bool);\r\n  function withdrawAllETHFunds() public returns (bool);\r\n  function fundETH() public payable;\r\n\r\n  event RefundETH(address indexed recipient, uint256 amount);\r\n  event WithdrawETH(uint256 amount);\r\n  event FundETH(uint256 amount);\r\n  event Investment(address indexed investor, uint256 invested, uint256 tokens);\r\n}\r\n\r\n// File: contracts/util/math/SafeMath.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n/**\r\n * @title SafeMath\r\n * @dev Math operations with safety checks that throw on error\r\n */\r\nlibrary SafeMath {\r\n\r\n  /**\r\n  * @dev Multiplies two numbers, throws on overflow.\r\n  */\r\n  function mul(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n    // Gas optimization: this is cheaper than asserting \u0027a\u0027 not being zero, but the\r\n    // benefit is lost if \u0027b\u0027 is also tested.\r\n    // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\r\n    if (a == 0) {\r\n      return 0;\r\n    }\r\n\r\n    c = a * b;\r\n    assert(c / a == b);\r\n    return c;\r\n  }\r\n\r\n  /**\r\n  * @dev Integer division of two numbers, truncating the quotient.\r\n  */\r\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    // assert(b \u003E 0); // Solidity automatically throws when dividing by 0\r\n    // uint256 c = a / b;\r\n    // assert(a == b * c \u002B a % b); // There is no case in which this doesn\u0027t hold\r\n    return a / b;\r\n  }\r\n\r\n  /**\r\n  * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\r\n  */\r\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    assert(b \u003C= a);\r\n    return a - b;\r\n  }\r\n\r\n  /**\r\n  * @dev Adds two numbers, throws on overflow.\r\n  */\r\n  function add(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n    c = a \u002B b;\r\n    assert(c \u003E= a);\r\n    return c;\r\n  }\r\n}\r\n\r\n// File: contracts/util/governance/Ownable.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n/**\r\n * @title Ownable\r\n * @dev The Ownable contract has an owner address, and provides basic authorization control\r\n * functions, this simplifies the implementation of \u0022user permissions\u0022.\r\n */\r\ncontract Ownable {\r\n  address public owner;\r\n\r\n  event OwnershipRenounced(address indexed previousOwner);\r\n  event OwnershipTransferred(\r\n    address indexed previousOwner,\r\n    address indexed newOwner\r\n  );\r\n\r\n\r\n  /**\r\n   * @dev The Ownable constructor sets the original \u0060owner\u0060 of the contract to the sender\r\n   * account.\r\n   */\r\n  constructor() public {\r\n    owner = msg.sender;\r\n  }\r\n\r\n  /**\r\n   * @dev Throws if called by any account other than the owner.\r\n   */\r\n  modifier onlyOwner() {\r\n    require(msg.sender == owner);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev Allows the current owner to relinquish control of the contract.\r\n   */\r\n  function renounceOwnership() public onlyOwner {\r\n    emit OwnershipRenounced(owner);\r\n    owner = address(0);\r\n  }\r\n\r\n  /**\r\n   * @dev Allows the current owner to transfer control of the contract to a newOwner.\r\n   * @param _newOwner The address to transfer ownership to.\r\n   */\r\n  function transferOwnership(address _newOwner) public onlyOwner {\r\n    _transferOwnership(_newOwner);\r\n  }\r\n\r\n  /**\r\n   * @dev Transfers control of the contract to a newOwner.\r\n   * @param _newOwner The address to transfer ownership to.\r\n   */\r\n  function _transferOwnership(address _newOwner) internal {\r\n    require(_newOwner != address(0));\r\n    emit OwnershipTransferred(owner, _newOwner);\r\n    owner = _newOwner;\r\n  }\r\n}\r\n\r\n// File: contracts/util/governance/Operable.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n/**\r\n * @title Operable\r\n * @dev The Operable contract enable the restrictions of operations to a set of operators\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n *\r\n * Error messages\r\n * OP01: Message sender must be an operator\r\n * OP02: Address must be an operator\r\n * OP03: Address must not be an operator\r\n */\r\ncontract Operable is Ownable {\r\n\r\n  mapping (address =\u003E bool) private operators_;\r\n\r\n  /**\r\n   * @dev Throws if called by any account other than the operator\r\n   */\r\n  modifier onlyOperator {\r\n    require(operators_[msg.sender], \u0022OP01\u0022);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev constructor\r\n   */\r\n  constructor() public {\r\n    defineOperator(\u0022Owner\u0022, msg.sender);\r\n  }\r\n\r\n  /**\r\n   * @dev isOperator\r\n   * @param _address operator address\r\n   */\r\n  function isOperator(address _address) public view returns (bool) {\r\n    return operators_[_address];\r\n  }\r\n\r\n  /**\r\n   * @dev removeOperator\r\n   * @param _address operator address\r\n   */\r\n  function removeOperator(address _address) public onlyOwner {\r\n    require(operators_[_address], \u0022OP02\u0022);\r\n    operators_[_address] = false;\r\n    emit OperatorRemoved(_address);\r\n  }\r\n\r\n  /**\r\n   * @dev defineOperator\r\n   * @param _role operator role\r\n   * @param _address operator address\r\n   */\r\n  function defineOperator(string memory _role, address _address)\r\n    public onlyOwner\r\n  {\r\n    require(!operators_[_address], \u0022OP03\u0022);\r\n    operators_[_address] = true;\r\n    emit OperatorDefined(_role, _address);\r\n  }\r\n\r\n  event OperatorRemoved(address address_);\r\n  event OperatorDefined(\r\n    string role,\r\n    address address_\r\n  );\r\n}\r\n\r\n// File: contracts/util/lifecycle/Pausable.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n/**\r\n * @title Pausable\r\n * @dev Base contract which allows children to implement an emergency stop mechanism.\r\n *\r\n * Error messages\r\n * PA01: the contract is paused\r\n * PA02: the contract is unpaused\r\n **/\r\ncontract Pausable is Operable {\r\n  event Pause();\r\n  event Unpause();\r\n\r\n  bool public paused = false;\r\n\r\n\r\n  /**\r\n   * @dev Modifier to make a function callable only when the contract is not paused.\r\n   */\r\n  modifier whenNotPaused() {\r\n    require(!paused, \u0022PA01\u0022);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev Modifier to make a function callable only when the contract is paused.\r\n   */\r\n  modifier whenPaused() {\r\n    require(paused, \u0022PA02\u0022);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev called by the operator to pause, triggers stopped state\r\n   */\r\n  function pause() public onlyOperator whenNotPaused {\r\n    paused = true;\r\n    emit Pause();\r\n  }\r\n\r\n  /**\r\n   * @dev called by the operator to unpause, returns to normal state\r\n   */\r\n  function unpause() public onlyOperator whenPaused {\r\n    paused = false;\r\n    emit Unpause();\r\n  }\r\n}\r\n\r\n// File: contracts/tokensale/BaseTokensale.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @title BaseTokensale\r\n * @dev Base Tokensale contract\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n *\r\n * Error messages\r\n * TOS01: token price must be strictly positive\r\n * TOS02: price unit must be strictly positive\r\n * TOS03: No data must be sent while sending ETH\r\n * TOS04: Token transfer must be successfull\r\n * TOS05: No ETH to refund\r\n * TOS06: Cannot invest 0 tokens\r\n * TOS07: Cannot invest if there are no tokens to buy\r\n * TOS08: Only exact amount is authorized\r\n */\r\ncontract BaseTokensale is ITokensale, Operable, Pausable {\r\n  using SafeMath for uint256;\r\n\r\n  /* General sale details */\r\n  IERC20 internal token_;\r\n  address payable internal vaultETH_;\r\n  address internal vaultERC20_;\r\n\r\n  uint256 internal tokenPrice_;\r\n  uint256 internal priceUnit_;\r\n\r\n  uint256 internal totalRaised_;\r\n  uint256 internal totalTokensSold_;\r\n\r\n  uint256 internal totalUnspentETH_;\r\n  uint256 internal totalRefundedETH_;\r\n\r\n  struct Investor {\r\n    uint256 unspentETH;\r\n    uint256 invested;\r\n    uint256 tokens;\r\n  }\r\n  mapping(address =\u003E Investor) internal investors;\r\n\r\n  /**\r\n   * @dev constructor\r\n   */\r\n  constructor(\r\n    IERC20 _token,\r\n    address _vaultERC20,\r\n    address payable _vaultETH,\r\n    uint256 _tokenPrice,\r\n    uint256 _priceUnit\r\n  ) public\r\n  {\r\n    require(_tokenPrice \u003E 0, \u0022TOS01\u0022);\r\n    require(_priceUnit \u003E 0, \u0022TOS02\u0022);\r\n\r\n    token_ = _token;\r\n    vaultERC20_ = _vaultERC20;\r\n    vaultETH_ = _vaultETH;\r\n    tokenPrice_ = _tokenPrice;\r\n    priceUnit_ = _priceUnit;\r\n  }\r\n\r\n  /**\r\n   * @dev fallback function\r\n   */\r\n  //solhint-disable-next-line no-complex-fallback\r\n  function () external payable {\r\n    require(msg.data.length == 0, \u0022TOS03\u0022);\r\n    investETH();\r\n  }\r\n\r\n  /* Investment */\r\n  function investETH() public payable\r\n  {\r\n    Investor storage investor = investorInternal(msg.sender);\r\n    uint256 amountETH = investor.unspentETH.add(msg.value);\r\n\r\n    investInternal(msg.sender, amountETH, false);\r\n  }\r\n\r\n  /**\r\n   * @dev returns the token sold\r\n   */\r\n  function token() public view returns (IERC20) {\r\n    return token_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns the vault use to\r\n   */\r\n  function vaultETH() public view returns (address) {\r\n    return vaultETH_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns the vault to receive ETH\r\n   */\r\n  function vaultERC20() public view returns (address) {\r\n    return vaultERC20_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns token price\r\n   */\r\n  function tokenPrice() public view returns (uint256) {\r\n    return tokenPrice_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns price unit\r\n   */\r\n  function priceUnit() public view returns (uint256) {\r\n    return priceUnit_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns total raised\r\n   */\r\n  function totalRaised() public view returns (uint256) {\r\n    return totalRaised_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns total tokens sold\r\n   */\r\n  function totalTokensSold() public view returns (uint256) {\r\n    return totalTokensSold_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns total unspent ETH\r\n   */\r\n  function totalUnspentETH() public view returns (uint256) {\r\n    return totalUnspentETH_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns total refunded ETH\r\n   */\r\n  function totalRefundedETH() public view returns (uint256) {\r\n    return totalRefundedETH_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns the available supply\r\n   */\r\n  function availableSupply() public view returns (uint256) {\r\n    uint256 vaultSupply = token_.balanceOf(vaultERC20_);\r\n    uint256 allowance = token_.allowance(vaultERC20_, address(this));\r\n    return (vaultSupply \u003C allowance) ? vaultSupply : allowance;\r\n  }\r\n\r\n  /* Investor specific attributes */\r\n  function investorUnspentETH(address _investor)\r\n    public view returns (uint256)\r\n  {\r\n    return investorInternal(_investor).unspentETH;\r\n  }\r\n\r\n  function investorInvested(address _investor)\r\n    public view returns (uint256)\r\n  {\r\n    return investorInternal(_investor).invested;\r\n  }\r\n\r\n  function investorTokens(address _investor) public view returns (uint256) {\r\n    return investorInternal(_investor).tokens;\r\n  }\r\n\r\n  /**\r\n   * @dev tokenInvestment\r\n   */\r\n  function tokenInvestment(address, uint256 _amount)\r\n    public view returns (uint256)\r\n  {\r\n    uint256 availableSupplyValue = availableSupply();\r\n    uint256 contribution = _amount.mul(priceUnit_).div(tokenPrice_);\r\n\r\n    return (contribution \u003C availableSupplyValue) ? contribution : availableSupplyValue;\r\n  }\r\n\r\n  /**\r\n   * @dev refund unspentETH ETH many\r\n   */\r\n  function refundManyUnspentETH(address payable[] memory _receivers)\r\n    public onlyOperator returns (bool)\r\n  {\r\n    for (uint256 i = 0; i \u003C _receivers.length; i\u002B\u002B) {\r\n      refundUnspentETHInternal(_receivers[i]);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @dev refund unspentETH\r\n   */\r\n  function refundUnspentETH() public returns (bool) {\r\n    refundUnspentETHInternal(msg.sender);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @dev withdraw all ETH funds\r\n   */\r\n  function withdrawAllETHFunds() public onlyOperator returns (bool) {\r\n    uint256 balance = address(this).balance;\r\n    withdrawETHInternal(balance);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @dev fund ETH\r\n   */\r\n  function fundETH() public payable onlyOperator {\r\n    emit FundETH(msg.value);\r\n  }\r\n\r\n  /**\r\n   * @dev investor internal\r\n   */\r\n  function investorInternal(address _investor)\r\n    internal view returns (Investor storage)\r\n  {\r\n    return investors[_investor];\r\n  }\r\n\r\n  /**\r\n   * @dev eval unspent ETH internal\r\n   */\r\n  function evalUnspentETHInternal(\r\n    Investor storage _investor, uint256 _investedETH\r\n  ) internal view returns (uint256)\r\n  {\r\n    return _investor.unspentETH.add(msg.value).sub(_investedETH);\r\n  }\r\n\r\n  /**\r\n   * @dev eval investment internal\r\n   */\r\n  function evalInvestmentInternal(uint256 _tokens)\r\n    internal view returns (uint256, uint256)\r\n  {\r\n    uint256 invested = _tokens.mul(tokenPrice_).div(priceUnit_);\r\n    return (invested, _tokens);\r\n  }\r\n\r\n  /**\r\n   * @dev distribute tokens internal\r\n   */\r\n  function distributeTokensInternal(address _investor, uint256 _tokens) internal {\r\n    require(\r\n      token_.transferFrom(vaultERC20_, _investor, _tokens),\r\n      \u0022TOS04\u0022);\r\n  }\r\n\r\n  /**\r\n   * @dev refund unspentETH internal\r\n   */\r\n  function refundUnspentETHInternal(address payable _investor) internal {\r\n    Investor storage investor = investorInternal(_investor);\r\n    require(investor.unspentETH \u003E 0, \u0022TOS05\u0022);\r\n\r\n    uint256 unspentETH = investor.unspentETH;\r\n    totalRefundedETH_ = totalRefundedETH_.add(unspentETH);\r\n    totalUnspentETH_ = totalUnspentETH_.sub(unspentETH);\r\n    investor.unspentETH = 0;\r\n\r\n    // Multiple sends are required for refundManyUnspentETH\r\n    // solhint-disable-next-line multiple-sends\r\n    _investor.transfer(unspentETH);\r\n    emit RefundETH(_investor, unspentETH);\r\n  }\r\n\r\n  /**\r\n   * @dev withdraw ETH internal\r\n   */\r\n  function withdrawETHInternal(uint256 _amount) internal {\r\n    // Send is used after the ERC20 transfer\r\n    // solhint-disable-next-line multiple-sends\r\n    vaultETH_.transfer(_amount);\r\n    emit WithdrawETH(_amount);\r\n  }\r\n\r\n  /**\r\n   * @dev invest internal\r\n   */\r\n  function investInternal(address _investor, uint256 _amount, bool _exactAmountOnly)\r\n    internal whenNotPaused\r\n  {\r\n    require(_amount != 0, \u0022TOS06\u0022);\r\n\r\n    Investor storage investor = investorInternal(_investor);\r\n    uint256 investment = tokenInvestment(_investor, _amount);\r\n    require(investment != 0, \u0022TOS07\u0022);\r\n\r\n    (uint256 invested, uint256 tokens) = evalInvestmentInternal(investment);\r\n\r\n    if (_exactAmountOnly) {\r\n      require(invested == _amount, \u0022TOS08\u0022);\r\n    } else {\r\n      uint256 unspentETH = evalUnspentETHInternal(investor, invested);\r\n      totalUnspentETH_ = totalUnspentETH_.sub(investor.unspentETH).add(unspentETH);\r\n      investor.unspentETH = unspentETH;\r\n    }\r\n\r\n    investor.invested = investor.invested.add(invested);\r\n    investor.tokens = investor.tokens.add(tokens);\r\n    totalRaised_ = totalRaised_.add(invested);\r\n    totalTokensSold_ = totalTokensSold_.add(tokens);\r\n\r\n    emit Investment(_investor, invested, tokens);\r\n\r\n    /* Reentrancy risks: No state change must come below */\r\n    distributeTokensInternal(_investor, tokens);\r\n\r\n    uint256 balance = address(this).balance;\r\n    uint256 withdrawableETH = balance.sub(totalUnspentETH_);\r\n    if (withdrawableETH != 0) {\r\n      withdrawETHInternal(withdrawableETH);\r\n    }\r\n  }\r\n}\r\n\r\n// File: contracts/tokensale/SchedulableTokensale.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n/**\r\n * @title SchedulableTokensale\r\n * @dev SchedulableTokensale contract\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n *\r\n * Error messages\r\n * STS01: It must be before the sale is opened\r\n * STS02: Sale must be open\r\n * STS03: It must be before the sale is closed\r\n * STS04: It must be after the sale is closed\r\n * STS05: It must start before it ends.\r\n */\r\ncontract SchedulableTokensale is BaseTokensale {\r\n\r\n  uint256 internal startAt = ~uint256(0);\r\n  uint256 internal endAt = ~uint256(0);\r\n  bool internal closed;\r\n\r\n  event Schedule(uint256 startAt, uint256 endAt);\r\n  event CloseEarly();\r\n\r\n  /**\r\n   * @dev Throws if sale is not open\r\n   */\r\n  modifier beforeSaleIsOpened {\r\n    require(currentTime() \u003C startAt \u0026\u0026 !closed, \u0022STS01\u0022);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev Throws if sale is not open\r\n   */\r\n  modifier saleIsOpened {\r\n    require(\r\n      currentTime() \u003E= startAt\r\n        \u0026\u0026 currentTime() \u003C= endAt\r\n        \u0026\u0026 !closed, \u0022STS02\u0022\r\n    );\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev Throws once the sale is closed\r\n   */\r\n  modifier beforeSaleIsClosed {\r\n    require(currentTime() \u003C= endAt \u0026\u0026 !closed, \u0022STS03\u0022);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev Throws once the sale is closed\r\n   */\r\n  modifier afterSaleIsClosed {\r\n    require(isClosed(), \u0022STS04\u0022);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev constructor\r\n   */\r\n  constructor(\r\n    IERC20 _token,\r\n    address _vaultERC20,\r\n    address payable _vaultETH,\r\n    uint256 _tokenPrice,\r\n    uint256 _priceUnit\r\n  ) public\r\n    BaseTokensale(_token, _vaultERC20, _vaultETH, _tokenPrice, _priceUnit)\r\n  {} /* solhint-disable no-empty-blocks */\r\n\r\n  /**\r\n   * @dev schedule\r\n   */\r\n  function schedule() public view returns (uint256, uint256) {\r\n    return (startAt, endAt);\r\n  }\r\n\r\n  /**\r\n   * @dev isClosed\r\n   */\r\n  function isClosed() public view returns (bool) {\r\n    return currentTime() \u003E endAt || closed;\r\n  }\r\n\r\n  /**\r\n   * @dev update schedule\r\n   */\r\n  function updateSchedule(uint256 _startAt, uint256 _endAt)\r\n    public onlyOperator beforeSaleIsOpened\r\n  {\r\n    require(_startAt \u003C _endAt, \u0022STS05\u0022);\r\n    startAt = _startAt;\r\n    endAt = _endAt;\r\n    emit Schedule(_startAt, _endAt);\r\n  }\r\n\r\n  /**\r\n   * @dev close sale\r\n   */\r\n  function closeEarly()\r\n    public onlyOperator beforeSaleIsClosed\r\n  {\r\n    closed = true; \r\n    emit CloseEarly();\r\n  }\r\n\r\n  /* Investment */\r\n  function investInternal(address _investor, uint256 _amount, bool _exactAmountOnly) internal\r\n    saleIsOpened\r\n  {\r\n    super.investInternal(_investor, _amount, _exactAmountOnly);\r\n  }\r\n\r\n  /* Util */\r\n  /**\r\n   * @dev current time\r\n   */\r\n  function currentTime() internal view returns (uint256) {\r\n    // solhint-disable-next-line not-rely-on-time\r\n    return now;\r\n  }\r\n}\r\n\r\n// File: contracts/tokensale/BonusTokensale.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n/**\r\n * @title BonusTokensale\r\n * @dev BonusTokensale contract\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n *\r\n * Error messages\r\n * BT01: There must have the same number of bonuses and bonusUntils\r\n * BT02: There must be some bonuses\r\n * BT03: There cannot be too many bonuses\r\n * BT04: BonusUntils must be declared in a progressive order\r\n * BT05: There cannot be bonuses with a NONE bonus mode\r\n **/\r\ncontract BonusTokensale is SchedulableTokensale {\r\n\r\n  enum BonusMode { NONE, EARLY, FIRST }\r\n  uint256 constant MAX_BONUSES = 10;\r\n\r\n  BonusMode internal bonusMode_ = BonusMode.NONE;\r\n  uint256[] internal bonusUntils_;\r\n  uint256[] internal bonuses_;\r\n\r\n  event BonusesDefined(uint256[] bonuses, BonusMode bonusMode, uint256[] bonusUntils);\r\n\r\n  /**\r\n   * @dev constructor\r\n   */\r\n  constructor(\r\n    IERC20 _token,\r\n    address _vaultERC20,\r\n    address payable _vaultETH,\r\n    uint256 _tokenPrice,\r\n    uint256 _priceUnit\r\n  ) public\r\n    SchedulableTokensale(_token,\r\n      _vaultERC20, _vaultETH, _tokenPrice, _priceUnit)\r\n  {} /* solhint-disable no-empty-blocks */\r\n  \r\n   /**\r\n   * @dev bonuses\r\n   */\r\n  function bonuses() public view returns (BonusMode, uint256[] memory, uint256[] memory) {\r\n    return (bonusMode_, bonuses_, bonusUntils_);\r\n  }\r\n\r\n  /**\r\n   * @dev early bonus\r\n   */\r\n  function earlyBonus(uint256 _currentTime)\r\n    public view returns (uint256 bonus, uint256 remainingAtBonus)\r\n  {\r\n    if (bonusMode_ != BonusMode.EARLY\r\n      || _currentTime \u003C startAt || _currentTime \u003E endAt) {\r\n      return (uint256(0), uint256(-1));\r\n    }\r\n\r\n    for(uint256 i=0; i \u003C bonusUntils_.length; i\u002B\u002B) {\r\n      if (_currentTime \u003C= bonusUntils_[i]) {\r\n        return (bonuses_[i], uint256(-1));\r\n      }\r\n    }\r\n    return (uint256(0), uint256(-1));\r\n  }\r\n\r\n  /**\r\n   * @dev first bonus\r\n   */\r\n  function firstBonus(uint256 _tokensSold)\r\n    public view returns (uint256 bonus, uint256 remainingAtBonus)\r\n  {\r\n    if (bonusMode_ != BonusMode.FIRST) {\r\n      return (uint256(0), uint256(-1));\r\n    }\r\n\r\n    for(uint256 i=0; i \u003C bonusUntils_.length; i\u002B\u002B) {\r\n      if (_tokensSold \u003C bonusUntils_[i]) {\r\n        return (bonuses_[i], bonusUntils_[i]-_tokensSold);\r\n      }\r\n    }\r\n\r\n    return (uint256(0), uint256(-1));\r\n  }\r\n\r\n  /**\r\n   * @dev define bonus\r\n   */\r\n  function defineBonuses(\r\n    BonusMode _bonusMode,\r\n    uint256[] memory _bonuses,\r\n    uint256[] memory _bonusUntils)\r\n    public onlyOperator beforeSaleIsOpened returns (bool)\r\n  {\r\n    require(_bonuses.length == _bonusUntils.length, \u0022BT01\u0022);\r\n\r\n    if (_bonusMode != BonusMode.NONE) {\r\n      require(_bonusUntils.length \u003E 0, \u0022BT02\u0022);\r\n      require(_bonusUntils.length \u003C MAX_BONUSES, \u0022BT03\u0022);\r\n\r\n      uint256 bonusUntil =\r\n        (_bonusMode == BonusMode.EARLY) ? startAt : 0;\r\n\r\n      for(uint256 i=0; i \u003C _bonusUntils.length; i\u002B\u002B) {\r\n        require(_bonusUntils[i] \u003E bonusUntil, \u0022BT04\u0022);\r\n        bonusUntil = _bonusUntils[i];\r\n      }\r\n    } else {\r\n      require(_bonusUntils.length == 0, \u0022BT05\u0022);\r\n    }\r\n\r\n    bonuses_ = _bonuses;\r\n    bonusMode_ = _bonusMode;\r\n    bonusUntils_ = _bonusUntils;\r\n\r\n    emit BonusesDefined(_bonuses, _bonusMode, _bonusUntils);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @dev current bonus\r\n   */\r\n  function tokenBonus(uint256 _tokens)\r\n    public view returns (uint256 tokenBonus_)\r\n  {\r\n    uint256 bonus;\r\n    uint256 remainingAtBonus;\r\n    uint256 unprocessed = _tokens;\r\n\r\n    do {\r\n      if(bonusMode_ == BonusMode.EARLY) {\r\n        (bonus, remainingAtBonus) = earlyBonus(currentTime());\r\n      }\r\n\r\n      if(bonusMode_ == BonusMode.FIRST) {\r\n        (bonus, remainingAtBonus) =\r\n          firstBonus(totalTokensSold_\u002B_tokens-unprocessed);\r\n      }\r\n\r\n      uint256 tokensAtCurrentBonus =\r\n        (unprocessed \u003C remainingAtBonus) ? unprocessed : remainingAtBonus;\r\n      tokenBonus_ \u002B= bonus.mul(tokensAtCurrentBonus).div(100);\r\n      unprocessed -= tokensAtCurrentBonus;\r\n    } while(bonus \u003E 0 \u0026\u0026 unprocessed \u003E 0 \u0026\u0026 remainingAtBonus \u003E 0);\r\n  }\r\n\r\n  /**\r\n   * @dev eval investment internal\r\n   */\r\n  function evalInvestmentInternal(uint256 _tokens)\r\n    internal view returns (uint256, uint256)\r\n  {\r\n    (uint256 invested, uint256 tokens) = super.evalInvestmentInternal(_tokens);\r\n    uint256 bonus = tokenBonus(tokens);\r\n    return (invested, tokens.add(bonus));\r\n  }\r\n}\r\n\r\n// File: contracts/interface/IRatesProvider.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n/**\r\n * @title IRatesProvider\r\n * @dev IRatesProvider interface\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n */\r\ncontract IRatesProvider {\r\n\r\n  function defineRatesExternal(uint256[] calldata _rates) external returns (bool);\r\n\r\n  function name() public view returns (string memory);\r\n\r\n  function rate(bytes32 _currency) public view returns (uint256);\r\n\r\n  function currencies() public view\r\n    returns (bytes32[] memory, uint256[] memory, uint256);\r\n  function rates() public view returns (uint256, uint256[] memory);\r\n\r\n  function convert(uint256 _amount, bytes32 _fromCurrency, bytes32 _toCurrency)\r\n    public view returns (uint256);\r\n\r\n  function defineCurrencies(\r\n    bytes32[] memory _currencies,\r\n    uint256[] memory _decimals,\r\n    uint256 _rateOffset) public returns (bool);\r\n  function defineRates(uint256[] memory _rates) public returns (bool);\r\n\r\n  event RateOffset(uint256 rateOffset);\r\n  event Currencies(bytes32[] currencies, uint256[] decimals);\r\n  event Rate(bytes32 indexed currency, uint256 rate);\r\n}\r\n\r\n// File: contracts/tokensale/ChangeTokensale.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n\r\n/**\r\n * @title ChangeTokensale\r\n * @dev ChangeTokensale contract\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n *\r\n * Error messages\r\n * CTS01: message value must be positive\r\n * CTS02: No investment after currency change.\r\n */\r\ncontract ChangeTokensale is BaseTokensale {\r\n\r\n  bytes32 internal baseCurrency_;\r\n  IRatesProvider internal ratesProvider_;\r\n\r\n  uint256 internal totalReceivedETH_;\r\n\r\n  /* Investment */\r\n  function investETH() public payable\r\n  {\r\n    require(msg.value \u003E 0, \u0022CTS01\u0022);\r\n    totalReceivedETH_ = totalReceivedETH_.add(msg.value);\r\n\r\n    Investor storage investor = investorInternal(msg.sender);\r\n    uint256 amountETH = investor.unspentETH.add(msg.value);\r\n    uint256 amountCurrency =\r\n      ratesProvider_.convert(amountETH, \u0022ETH\u0022, baseCurrency_);\r\n    require(amountCurrency \u003E 0, \u0022CTS02\u0022);\r\n\r\n    investInternal(msg.sender, amountCurrency, false);\r\n  }\r\n\r\n  /**\r\n   * @dev returns baseCurrency\r\n   */\r\n  function baseCurrency() public view returns (bytes32) {\r\n    return baseCurrency_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns ratesProvider\r\n   */\r\n  function ratesProvider() public view returns (IRatesProvider) {\r\n    return ratesProvider_;\r\n  }\r\n\r\n  /**\r\n   * @dev returns totalRaisedETH\r\n   */\r\n  function totalRaisedETH() public view returns (uint256) {\r\n    return totalReceivedETH_.sub(totalUnspentETH_).sub(totalRefundedETH_);\r\n  }\r\n\r\n  /**\r\n   * @dev returns totalReceivedETH\r\n   */\r\n  function totalReceivedETH() public view returns (uint256) {\r\n    return totalReceivedETH_;\r\n  }\r\n\r\n  /**\r\n   * @dev add offchain investment\r\n   */\r\n  function addOffchainInvestment(address _investor, uint256 _amount)\r\n    public onlyOperator returns (bool)\r\n  {\r\n    investInternal(_investor, _amount, true);\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @dev eval unspent ETH\r\n   */\r\n  function evalUnspentETHInternal(\r\n    Investor storage _investor, uint256 _invested\r\n  ) internal view returns (uint256)\r\n  {\r\n    uint256 investedETH =\r\n      ratesProvider_.convert(_invested, baseCurrency_, \u0022ETH\u0022);\r\n    return super.evalUnspentETHInternal(_investor, investedETH);\r\n  }\r\n}\r\n\r\n// File: contracts/interface/IUserRegistry.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n/**\r\n * @title IUserRegistry\r\n * @dev IUserRegistry interface\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n **/\r\ncontract IUserRegistry {\r\n\r\n  event UserRegistered(uint256 indexed userId, address address_, uint256 validUntilTime);\r\n  event AddressAttached(uint256 indexed userId, address address_);\r\n  event AddressDetached(uint256 indexed userId, address address_);\r\n  event UserSuspended(uint256 indexed userId);\r\n  event UserRestored(uint256 indexed userId);\r\n  event UserValidity(uint256 indexed userId, uint256 validUntilTime);\r\n  event UserExtendedKey(uint256 indexed userId, uint256 key, uint256 value);\r\n  event UserExtendedKeys(uint256 indexed userId, uint256[] values);\r\n\r\n  event ExtendedKeysDefinition(uint256[] keys);\r\n\r\n  function registerManyUsersExternal(address[] calldata _addresses, uint256 _validUntilTime)\r\n    external returns (bool);\r\n  function registerManyUsersFullExternal(\r\n    address[] calldata _addresses,\r\n    uint256 _validUntilTime,\r\n    uint256[] calldata _values) external returns (bool);\r\n  function attachManyAddressesExternal(uint256[] calldata _userIds, address[] calldata _addresses)\r\n    external returns (bool);\r\n  function detachManyAddressesExternal(address[] calldata _addresses)\r\n    external returns (bool);\r\n  function suspendManyUsersExternal(uint256[] calldata _userIds) external returns (bool);\r\n  function restoreManyUsersExternal(uint256[] calldata _userIds) external returns (bool);\r\n  function updateManyUsersExternal(\r\n    uint256[] calldata _userIds,\r\n    uint256 _validUntilTime,\r\n    bool _suspended) external returns (bool);\r\n  function updateManyUsersExtendedExternal(\r\n    uint256[] calldata _userIds,\r\n    uint256 _key, uint256 _value) external returns (bool);\r\n  function updateManyUsersAllExtendedExternal(\r\n    uint256[] calldata _userIds,\r\n    uint256[] calldata _values) external returns (bool);\r\n  function updateManyUsersFullExternal(\r\n    uint256[] calldata _userIds,\r\n    uint256 _validUntilTime,\r\n    bool _suspended,\r\n    uint256[] calldata _values) external returns (bool);\r\n\r\n  function name() public view returns (string memory);\r\n  function currency() public view returns (bytes32);\r\n\r\n  function userCount() public view returns (uint256);\r\n  function userId(address _address) public view returns (uint256);\r\n  function validUserId(address _address) public view returns (uint256);\r\n  function validUser(address _address, uint256[] memory _keys)\r\n    public view returns (uint256, uint256[] memory);\r\n  function validity(uint256 _userId) public view returns (uint256, bool);\r\n\r\n  function extendedKeys() public view returns (uint256[] memory);\r\n  function extended(uint256 _userId, uint256 _key)\r\n    public view returns (uint256);\r\n  function manyExtended(uint256 _userId, uint256[] memory _key)\r\n    public view returns (uint256[] memory);\r\n\r\n  function isAddressValid(address _address) public view returns (bool);\r\n  function isValid(uint256 _userId) public view returns (bool);\r\n\r\n  function defineExtendedKeys(uint256[] memory _extendedKeys) public returns (bool);\r\n\r\n  function registerUser(address _address, uint256 _validUntilTime)\r\n    public returns (bool);\r\n  function registerUserFull(\r\n    address _address,\r\n    uint256 _validUntilTime,\r\n    uint256[] memory _values) public returns (bool);\r\n\r\n  function attachAddress(uint256 _userId, address _address) public returns (bool);\r\n  function detachAddress(address _address) public returns (bool);\r\n  function detachSelf() public returns (bool);\r\n  function detachSelfAddress(address _address) public returns (bool);\r\n  function suspendUser(uint256 _userId) public returns (bool);\r\n  function restoreUser(uint256 _userId) public returns (bool);\r\n  function updateUser(uint256 _userId, uint256 _validUntilTime, bool _suspended)\r\n    public returns (bool);\r\n  function updateUserExtended(uint256 _userId, uint256 _key, uint256 _value)\r\n    public returns (bool);\r\n  function updateUserAllExtended(uint256 _userId, uint256[] memory _values)\r\n    public returns (bool);\r\n  function updateUserFull(\r\n    uint256 _userId,\r\n    uint256 _validUntilTime,\r\n    bool _suspended,\r\n    uint256[] memory _values) public returns (bool);\r\n}\r\n\r\n// File: contracts/tokensale/UserTokensale.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n\r\n/**\r\n * @title UserTokensale\r\n * @dev UserTokensale contract\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n *\r\n * Error messages\r\n */\r\ncontract UserTokensale is ChangeTokensale {\r\n\r\n  uint256[] public extendedKeys = [ 0, 1 ]; // KYC Level and AML Limit\r\n\r\n  // Default investment based on the KYC Level.\r\n  // Example [ 0, 300000, 1500000, 10000000, 100000000 ];\r\n  uint256[] internal contributionLimits_ = new uint256[](0);\r\n\r\n  mapping(uint256 =\u003E Investor) internal investorIds;\r\n  IUserRegistry internal userRegistry_;\r\n\r\n  /**\r\n   * @dev define contributionLimits\r\n   */\r\n  function defineContributionLimits(uint256[] memory _contributionLimits)\r\n    public onlyOperator returns (bool)\r\n  {\r\n    contributionLimits_ = _contributionLimits;\r\n    emit ContributionLimits(_contributionLimits);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @dev contributionsLimit\r\n   */\r\n  function contributionLimits() public view returns (uint256[] memory) {\r\n    return contributionLimits_;\r\n  }\r\n\r\n  /**\r\n   * @dev user registry\r\n   */\r\n  function userRegistry() public view returns (IUserRegistry) {\r\n    return userRegistry_;\r\n  }\r\n\r\n  function registredInvestorUnspentETH(uint256 _investorId)\r\n    public view returns (uint256)\r\n  {\r\n    return investorIds[_investorId].unspentETH;\r\n  }\r\n\r\n  function registredInvestorInvested(uint256 _investorId)\r\n    public view returns (uint256)\r\n  {\r\n    return investorIds[_investorId].invested;\r\n  }\r\n\r\n  function registredInvestorTokens(uint256 _investorId)\r\n    public view returns (uint256)\r\n  {\r\n    return investorIds[_investorId].tokens;\r\n  }\r\n\r\n  function investorCount()\r\n    public view returns (uint256)\r\n  {\r\n    return userRegistry_.userCount();\r\n  }\r\n\r\n  /**\r\n   * @dev contributionLimit\r\n   */\r\n  function contributionLimit(uint256 _investorId)\r\n    public view returns (uint256)\r\n  {\r\n    uint256 amlLimit = 0;\r\n\r\n    uint256[] memory extended = userRegistry_.manyExtended(_investorId, extendedKeys);\r\n    uint256 kycLevel = extended[0];\r\n    uint256 baseAmlLimit = extended[1];\r\n\r\n    if (baseAmlLimit \u003E 0) {\r\n      amlLimit = ratesProvider_.convert(\r\n        baseAmlLimit, userRegistry_.currency(), baseCurrency_);\r\n    }\r\n\r\n    if (amlLimit == 0 \u0026\u0026 kycLevel \u003C contributionLimits_.length) {\r\n      amlLimit = contributionLimits_[kycLevel];\r\n    }\r\n\r\n    return amlLimit.sub(investorIds[_investorId].invested);\r\n  }\r\n\r\n  /**\r\n   * @dev tokenInvestment\r\n   */\r\n  function tokenInvestment(address _investor, uint256 _amount)\r\n    public view returns (uint256)\r\n  {\r\n    uint256 investorId = userRegistry_.validUserId(_investor);\r\n    uint256 amlLimit = contributionLimit(investorId);\r\n    return super.tokenInvestment(_investor, (_amount \u003C amlLimit) ? _amount : amlLimit);\r\n  }\r\n\r\n  /**\r\n   * @dev investor internal\r\n   */\r\n  function investorInternal(address _investor)\r\n    internal view returns (Investor storage)\r\n  {\r\n    return investorIds[userRegistry_.userId(_investor)];\r\n  }\r\n\r\n  event ContributionLimits(uint256[] contributionLimits);\r\n}\r\n\r\n// File: contracts/Tokensale.sol\r\n\r\npragma solidity \u003E=0.5.0 \u003C0.6.0;\r\n\r\n\r\n\r\n\r\n/**\r\n * @title Tokensale\r\n * @dev Tokensale contract\r\n *\r\n * @author Cyril Lapinte - \u003Ccyril.lapinte@openfiz.com\u003E\r\n *\r\n * Error messages\r\n */\r\ncontract Tokensale is UserTokensale, BonusTokensale {\r\n\r\n  /**\r\n   * @dev constructor\r\n   */\r\n  constructor(\r\n    IERC20 _token,\r\n    address _vaultERC20,\r\n    address payable _vaultETH,\r\n    uint256 _tokenPrice,\r\n    uint256 _priceUnit,\r\n    bytes32 _baseCurrency,\r\n    IUserRegistry _userRegistry,\r\n    IRatesProvider _ratesProvider,\r\n    uint256 _start,\r\n    uint256 _end\r\n  ) public\r\n    BonusTokensale(_token,\r\n      _vaultERC20, _vaultETH, _tokenPrice, _priceUnit)\r\n  {\r\n    baseCurrency_ = _baseCurrency;\r\n    userRegistry_ = _userRegistry;\r\n    ratesProvider_ = _ratesProvider;\r\n\r\n    updateSchedule(_start, _end);\r\n  }\r\n}","ABI":"[{\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022contract IERC20\u0022,\u0022name\u0022:\u0022_token\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_vaultERC20\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022internalType\u0022:\u0022address payable\u0022,\u0022name\u0022:\u0022_vaultETH\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_tokenPrice\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_priceUnit\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022_baseCurrency\u0022,\u0022type\u0022:\u0022bytes32\u0022},{\u0022internalType\u0022:\u0022contract IUserRegistry\u0022,\u0022name\u0022:\u0022_userRegistry\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022internalType\u0022:\u0022contract IRatesProvider\u0022,\u0022name\u0022:\u0022_ratesProvider\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_start\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_end\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022constructor\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022bonuses\u0022,\u0022type\u0022:\u0022uint256[]\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022enum BonusTokensale.BonusMode\u0022,\u0022name\u0022:\u0022bonusMode\u0022,\u0022type\u0022:\u0022uint8\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022bonusUntils\u0022,\u0022type\u0022:\u0022uint256[]\u0022}],\u0022name\u0022:\u0022BonusesDefined\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022CloseEarly\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022contributionLimits\u0022,\u0022type\u0022:\u0022uint256[]\u0022}],\u0022name\u0022:\u0022ContributionLimits\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022FundETH\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022investor\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022invested\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022tokens\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022Investment\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022role\u0022,\u0022type\u0022:\u0022string\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022address_\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022OperatorDefined\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022address_\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022OperatorRemoved\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022previousOwner\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022OwnershipRenounced\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022previousOwner\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022newOwner\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022OwnershipTransferred\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022Pause\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:true,\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022recipient\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022RefundETH\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022startAt\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022endAt\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022Schedule\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022Unpause\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022WithdrawETH\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022fallback\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_investor\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022addOffchainInvestment\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022availableSupply\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022baseCurrency\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bytes32\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bytes32\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022bonuses\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022enum BonusTokensale.BonusMode\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint8\u0022},{\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256[]\u0022},{\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256[]\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022closeEarly\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_investorId\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022contributionLimit\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022contributionLimits\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256[]\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022enum BonusTokensale.BonusMode\u0022,\u0022name\u0022:\u0022_bonusMode\u0022,\u0022type\u0022:\u0022uint8\u0022},{\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022_bonuses\u0022,\u0022type\u0022:\u0022uint256[]\u0022},{\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022_bonusUntils\u0022,\u0022type\u0022:\u0022uint256[]\u0022}],\u0022name\u0022:\u0022defineBonuses\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256[]\u0022,\u0022name\u0022:\u0022_contributionLimits\u0022,\u0022type\u0022:\u0022uint256[]\u0022}],\u0022name\u0022:\u0022defineContributionLimits\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022_role\u0022,\u0022type\u0022:\u0022string\u0022},{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_address\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022defineOperator\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_currentTime\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022earlyBonus\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022bonus\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022remainingAtBonus\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022extendedKeys\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_tokensSold\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022firstBonus\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022bonus\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022remainingAtBonus\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022fundETH\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022investETH\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022investorCount\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_investor\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022investorInvested\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_investor\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022investorTokens\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_investor\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022investorUnspentETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022isClosed\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_address\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022isOperator\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022owner\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022pause\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022paused\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022priceUnit\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022ratesProvider\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022contract IRatesProvider\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address payable[]\u0022,\u0022name\u0022:\u0022_receivers\u0022,\u0022type\u0022:\u0022address[]\u0022}],\u0022name\u0022:\u0022refundManyUnspentETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022refundUnspentETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_investorId\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022registredInvestorInvested\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_investorId\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022registredInvestorTokens\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_investorId\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022registredInvestorUnspentETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_address\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022removeOperator\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022renounceOwnership\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022schedule\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022token\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022contract IERC20\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_tokens\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022tokenBonus\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022tokenBonus_\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_investor\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_amount\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022tokenInvestment\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022tokenPrice\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022totalRaised\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022totalRaisedETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022totalReceivedETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022totalRefundedETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022totalTokensSold\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022totalUnspentETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022_newOwner\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022transferOwnership\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022unpause\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_startAt\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022_endAt\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022updateSchedule\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022userRegistry\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022contract IUserRegistry\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022vaultERC20\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022vaultETH\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[],\u0022name\u0022:\u0022withdrawAllETHFunds\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022bool\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022}]","ContractName":"Tokensale","CompilerVersion":"v0.5.12\u002Bcommit.7709ece9","OptimizationUsed":"1","Runs":"1000","ConstructorArguments":"0000000000000000000000001dd0df760eb950083c1925da19fc7ac1356a190b0000000000000000000000001e61c10f3afd2ec2f4b38e9f1346a6861e1d586d00000000000000000000000033a7a490b672b4560ad805e3cfc7bdc7e8c8306f000000000000000000000000000000000000000000000000000000000000004d0000000000000000000000000000000000000000000000056bc75e2d631000005553440000000000000000000000000000000000000000000000000000000000000000000000000000000000eeb655488f20b23abca2e2bd232dc4607b62c8430000000000000000000000000c95bcd7e426f7228b87a43ff741c5c268433fa0000000000000000000000000000000000000000000000000000000005de39d30000000000000000000000000000000000000000000000000000000005e0b2a30","Library":"","SwarmSource":"bzzr://a0bb470754729bd456803b1d2e4ef417dfc58ad67f203e4daac79745db13522e"}]