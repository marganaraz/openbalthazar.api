[{"SourceCode":"pragma solidity ^0.5.10;\r\n\r\ncontract AbstractAccount {\r\n\r\n  event DeviceAdded(address device, bool isOwner);\r\n  event DeviceRemoved(address device);\r\n  event TransactionExecuted(address recipient, uint256 value, bytes data, bytes response);\r\n\r\n  struct Device {\r\n    bool isOwner;\r\n    bool exists;\r\n    bool existed;\r\n  }\r\n\r\n  mapping(address =\u003E Device) public devices;\r\n\r\n  function addDevice(address _device, bool _isOwner) public;\r\n\r\n  function removeDevice(address _device) public;\r\n\r\n  function executeTransaction(address payable _recipient, uint256 _value, bytes memory _data) public returns (bytes memory _response);\r\n}\r\n\r\n\r\n\r\n/**\r\n * @title Account\r\n */\r\ncontract Account is AbstractAccount {\r\n\r\n  modifier onlyOwner() {\r\n    require(\r\n      devices[msg.sender].isOwner\r\n    );\r\n\r\n    _;\r\n  }\r\n\r\n  constructor() public {\r\n    devices[msg.sender].isOwner = true;\r\n    devices[msg.sender].exists = true;\r\n    devices[msg.sender].existed = true;\r\n  }\r\n\r\n  function() external payable {\r\n    //\r\n  }\r\n\r\n  function addDevice(address _device, bool _isOwner) onlyOwner public {\r\n    require(\r\n      _device != address(0)\r\n    );\r\n    require(\r\n      !devices[_device].exists\r\n    );\r\n\r\n    devices[_device].isOwner = _isOwner;\r\n    devices[_device].exists = true;\r\n    devices[_device].existed = true;\r\n\r\n    emit DeviceAdded(_device, _isOwner);\r\n  }\r\n\r\n  function removeDevice(address _device) onlyOwner public {\r\n    require(\r\n      devices[_device].exists\r\n    );\r\n\r\n    devices[_device].isOwner = false;\r\n    devices[_device].exists = false;\r\n\r\n    emit DeviceRemoved(_device);\r\n  }\r\n\r\n  function executeTransaction(address payable _recipient, uint256 _value, bytes memory _data) onlyOwner public returns (bytes memory _response) {\r\n    require(\r\n      _recipient != address(0)\r\n    );\r\n\r\n    bool _succeeded;\r\n    (_succeeded, _response) = _recipient.call.value(_value)(_data);\r\n\r\n    require(\r\n      _succeeded\r\n    );\r\n\r\n    emit TransactionExecuted(_recipient, _value, _data, _response);\r\n  }\r\n}","ABI":"[{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_device\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022removeDevice\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_recipient\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022_value\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022name\u0022:\u0022_data\u0022,\u0022type\u0022:\u0022bytes\u0022}],\u0022name\u0022:\u0022executeTransaction\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022_response\u0022,\u0022type\u0022:\u0022bytes\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022name\u0022:\u0022_device\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022name\u0022:\u0022_isOwner\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022name\u0022:\u0022addDevice\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022devices\u0022,\u0022outputs\u0022:[{\u0022name\u0022:\u0022isOwner\u0022,\u0022type\u0022:\u0022bool\u0022},{\u0022name\u0022:\u0022exists\u0022,\u0022type\u0022:\u0022bool\u0022},{\u0022name\u0022:\u0022existed\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022inputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022constructor\u0022},{\u0022payable\u0022:true,\u0022stateMutability\u0022:\u0022payable\u0022,\u0022type\u0022:\u0022fallback\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022device\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022name\u0022:\u0022isOwner\u0022,\u0022type\u0022:\u0022bool\u0022}],\u0022name\u0022:\u0022DeviceAdded\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022device\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022DeviceRemoved\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022name\u0022:\u0022recipient\u0022,\u0022type\u0022:\u0022address\u0022},{\u0022indexed\u0022:false,\u0022name\u0022:\u0022value\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022indexed\u0022:false,\u0022name\u0022:\u0022data\u0022,\u0022type\u0022:\u0022bytes\u0022},{\u0022indexed\u0022:false,\u0022name\u0022:\u0022response\u0022,\u0022type\u0022:\u0022bytes\u0022}],\u0022name\u0022:\u0022TransactionExecuted\u0022,\u0022type\u0022:\u0022event\u0022}]","ContractName":"Account","CompilerVersion":"v0.5.10\u002Bcommit.5a6ea5b1","OptimizationUsed":"1","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://e14f95bd455a8016ef9d3429468ca1d08ebf4209ca7126aedd976554789e4dc0"}]