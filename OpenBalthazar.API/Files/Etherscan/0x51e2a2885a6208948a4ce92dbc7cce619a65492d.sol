[{"SourceCode":"pragma solidity ^0.5.0;\r\n\r\ncontract DigitalSecretary {\r\n\r\n    uint256 public entityFilings; // tallies number of successful entity registrations\r\n\r\n    mapping (uint256 =\u003E Entity) public entities; // mapping registered entities to filing numbers\r\n    \r\n    event entityRegistered(uint256 fileNumber, uint256 filingDate, string entityName, uint8 entityKind);\r\n    \r\n    struct Entity {\r\n        uint256 fileNumber; // latest successful registration function call\r\n        uint256 filingDate; // blocktime of successful registration function call\r\n        string entityName; // Full Legal Name / e.g., \u0022ACME LLC\u0022\r\n        uint8 entityKind; // see below enum / default, \u00273\u0027 - \u0022LLC\u0022\r\n        uint8 entityType; // see below enum / default, \u00271\u0027 - \u0022General\u0022\r\n        string registeredAgentdetails; // could be IPFS hash, plaintext, or JSON detailing registered agent\r\n        string filingDetails; // could be IPFS hash, plaintext, or JSON detailing articles or certificate of incorporation\r\n        address registrant; // address of new entity registrant\r\n    }\r\n      \r\n    // compare: Delaware resource: https://icis.corp.delaware.gov/Ecorp/FieldDesc.aspx#ENTITY%20TYPE \r\n    enum Kind {\r\n        CORP,\r\n        LP,\r\n        LLC,\r\n        TRUST,\r\n        PARTNERSHIP,\r\n        UNPA\r\n    }\r\n    \r\n    // compare: Delaware resource: https://icis.corp.delaware.gov/Ecorp/FieldDesc.aspx#ENTITY%20TYPE\r\n    enum Type {\r\n        GENERAL,\r\n        BANK,\r\n        CLOSED,\r\n        DISC,\r\n        PA,\r\n        GP,\r\n        RIC,\r\n        LLP,\r\n        NT,\r\n        NP,\r\n        STOCK\r\n    }\r\n    \r\n    // public function to register entity with digital secretary \r\n    function registerEntity(\r\n        string memory entityName,\r\n        uint8 entityKind,\r\n        uint8 entityType,\r\n        string memory registeredAgentdetails,\r\n        string memory filingDetails) public {\r\n            \r\n        Kind(entityKind);\r\n        Type(entityType);\r\n        \r\n        uint256 fileNumber = entityFilings \u002B 1; // tallies from running total\r\n        uint256 filingDate = block.timestamp; // \u0022now\u0022\r\n        \r\n        entityFilings = entityFilings \u002B 1; // tallies new filing to running total\r\n            \r\n        entities[fileNumber] = Entity(\r\n            fileNumber,\r\n            filingDate,\r\n            entityName,\r\n            entityKind,\r\n            entityType,\r\n            registeredAgentdetails,\r\n            filingDetails,\r\n            msg.sender);\r\n            \r\n            emit entityRegistered(fileNumber, filingDate, entityName, entityKind);\r\n    }\r\n    \r\n    /***************\r\n    ENTITY MGMT \r\n    ***************/\r\n    // registrant can update entity name   \r\n    function updateEntityName(uint256 fileNumber, string memory newName) public {\r\n        Entity storage entity = entities[fileNumber];\r\n        require(msg.sender == entity.registrant);\r\n        entity.entityName = newName; \r\n    }\r\n    \r\n    // registrant can update registered agent details  \r\n    function updateRegisteredAgent(uint256 fileNumber, string memory registeredAgentdetails) public {\r\n        Entity storage entity = entities[fileNumber];\r\n        require(msg.sender == entity.registrant);\r\n        entity.registeredAgentdetails = registeredAgentdetails; \r\n    }\r\n    \r\n    // registrant can convert entity kind   \r\n    function convertEntityKind(uint256 fileNumber, uint8 newKind) public {\r\n        Entity storage entity = entities[fileNumber];\r\n        require(msg.sender == entity.registrant);\r\n        entity.entityKind = newKind; \r\n    }\r\n    \r\n    // registrant can convert entity type   \r\n    function convertEntityType(uint256 fileNumber, uint8 newType) public {\r\n        Entity storage entity = entities[fileNumber];\r\n        require(msg.sender == entity.registrant);\r\n        entity.entityType = newType; \r\n    }\r\n}","ABI":"[{\u0022anonymous\u0022:false,\u0022inputs\u0022:[{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022fileNumber\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022filingDate\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022entityName\u0022,\u0022type\u0022:\u0022string\u0022},{\u0022indexed\u0022:false,\u0022internalType\u0022:\u0022uint8\u0022,\u0022name\u0022:\u0022entityKind\u0022,\u0022type\u0022:\u0022uint8\u0022}],\u0022name\u0022:\u0022entityRegistered\u0022,\u0022type\u0022:\u0022event\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022fileNumber\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint8\u0022,\u0022name\u0022:\u0022newKind\u0022,\u0022type\u0022:\u0022uint8\u0022}],\u0022name\u0022:\u0022convertEntityKind\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022fileNumber\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint8\u0022,\u0022name\u0022:\u0022newType\u0022,\u0022type\u0022:\u0022uint8\u0022}],\u0022name\u0022:\u0022convertEntityType\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022name\u0022:\u0022entities\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022fileNumber\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022filingDate\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022entityName\u0022,\u0022type\u0022:\u0022string\u0022},{\u0022internalType\u0022:\u0022uint8\u0022,\u0022name\u0022:\u0022entityKind\u0022,\u0022type\u0022:\u0022uint8\u0022},{\u0022internalType\u0022:\u0022uint8\u0022,\u0022name\u0022:\u0022entityType\u0022,\u0022type\u0022:\u0022uint8\u0022},{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022registeredAgentdetails\u0022,\u0022type\u0022:\u0022string\u0022},{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022filingDetails\u0022,\u0022type\u0022:\u0022string\u0022},{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022registrant\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022entityFilings\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022uint256\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022entityName\u0022,\u0022type\u0022:\u0022string\u0022},{\u0022internalType\u0022:\u0022uint8\u0022,\u0022name\u0022:\u0022entityKind\u0022,\u0022type\u0022:\u0022uint8\u0022},{\u0022internalType\u0022:\u0022uint8\u0022,\u0022name\u0022:\u0022entityType\u0022,\u0022type\u0022:\u0022uint8\u0022},{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022registeredAgentdetails\u0022,\u0022type\u0022:\u0022string\u0022},{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022filingDetails\u0022,\u0022type\u0022:\u0022string\u0022}],\u0022name\u0022:\u0022registerEntity\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022fileNumber\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022newName\u0022,\u0022type\u0022:\u0022string\u0022}],\u0022name\u0022:\u0022updateEntityName\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022uint256\u0022,\u0022name\u0022:\u0022fileNumber\u0022,\u0022type\u0022:\u0022uint256\u0022},{\u0022internalType\u0022:\u0022string\u0022,\u0022name\u0022:\u0022registeredAgentdetails\u0022,\u0022type\u0022:\u0022string\u0022}],\u0022name\u0022:\u0022updateRegisteredAgent\u0022,\u0022outputs\u0022:[],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022}]","ContractName":"DigitalSecretary","CompilerVersion":"v0.5.13\u002Bcommit.5b0b510c","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://e0de6964e841f81af52fee01c87be65a94d4e55f6a80b0d86f73b6339e252b4e"}]