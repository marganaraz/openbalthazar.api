[{"SourceCode":"pragma solidity ^0.5.11;\r\n\r\ncontract minerProxy {\r\n    function set(address miner) external;\r\n}\r\n\r\n\r\ncontract factory {\r\n\r\n    address public template = 0x479c8c19f3fafF21eF173a3BeB9dfC5d29E8AFcB;\r\n\r\n    mapping(address =\u003E address) public proxy;\r\n\r\n    address[] allProxy;\r\n\r\n    function getAllProxy() external view returns(address[] memory) {\r\n        return allProxy;\r\n    }\r\n\r\n    function createProxy(address miner) public returns (address) {\r\n        require(proxy[miner] == address(0));\r\n\r\n        address payable _proxy;\r\n        bytes32 salt = keccak256(abi.encodePacked(miner));\r\n        bytes20 targetBytes = bytes20(template);\r\n\r\n        assembly {\r\n            let clone := mload(0x40)\r\n                mstore(clone, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)\r\n                mstore(add(clone, 0x14), targetBytes)\r\n                mstore(add(clone, 0x28), 0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000)\r\n                _proxy := create2(0, clone, 0x37, salt)\r\n        }\r\n\r\n        minerProxy(_proxy).set(miner);\r\n        proxy[miner] = _proxy;\r\n        allProxy.push(_proxy);\r\n\r\n        return _proxy;\r\n    }\r\n\r\n}","ABI":"[{\u0022constant\u0022:true,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022proxy\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:false,\u0022inputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022miner\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022name\u0022:\u0022createProxy\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022nonpayable\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022template\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022},{\u0022constant\u0022:true,\u0022inputs\u0022:[],\u0022name\u0022:\u0022getAllProxy\u0022,\u0022outputs\u0022:[{\u0022internalType\u0022:\u0022address[]\u0022,\u0022name\u0022:\u0022\u0022,\u0022type\u0022:\u0022address[]\u0022}],\u0022payable\u0022:false,\u0022stateMutability\u0022:\u0022view\u0022,\u0022type\u0022:\u0022function\u0022}]","ContractName":"factory","CompilerVersion":"v0.5.11\u002Bcommit.c082d0b4","OptimizationUsed":"0","Runs":"200","ConstructorArguments":"","Library":"","SwarmSource":"bzzr://60951ec6ecf0ccb9231f8bf6c343f751ffda67649bfe1e1624b7593e748cd205"}]